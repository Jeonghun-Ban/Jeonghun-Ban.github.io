<!doctype html><html lang=ko class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.78.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>code-server를 이용해서 웹 IDE 구축하기 | Jeonghun-Ban</title><meta property="og:title" content="code-server를 이용해서 웹 IDE 구축하기"><meta property="og:description" content="나만의 웹 IDE 만들기"><meta property="og:type" content="article"><meta property="og:url" content="http://Jeonghun-Ban.github.io/post/build-web-ide-using-code-server/"><meta property="article:published_time" content="2020-12-03T04:34:19+00:00"><meta property="article:modified_time" content="2020-12-03T04:34:19+00:00"><meta itemprop=name content="code-server를 이용해서 웹 IDE 구축하기"><meta itemprop=description content="나만의 웹 IDE 만들기"><meta itemprop=datePublished content="2020-12-03T04:34:19+00:00"><meta itemprop=dateModified content="2020-12-03T04:34:19+00:00"><meta itemprop=wordCount content="511"><meta itemprop=keywords content="군대에서 코딩하기,code-server,"><meta name=twitter:card content="summary"><meta name=twitter:title content="code-server를 이용해서 웹 IDE 구축하기"><meta name=twitter:description content="나만의 웹 IDE 만들기"><link rel=preload href=/scss/main.min.c2a96b8074a37ec4ffb39b946585f632e6d4aeeaf5dd6ef8527baa554c8cf9c0.css as=style><link href=/scss/main.min.c2a96b8074a37ec4ffb39b946585f632e6d4aeeaf5dd6ef8527baa554c8cf9c0.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class="td-page td-blog"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class="text-uppercase font-weight-bold">Jeonghun-Ban</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/post/><span class=active>Post</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/til/><span>TIL</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; 사이트에서 검색…" aria-label="사이트에서 검색…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.510334572845a9632e4d273ebca25066.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center d-lg-none"><input type=search class="form-control td-search-input" placeholder="&#xf002; 사이트에서 검색…" aria-label="사이트에서 검색…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.510334572845a9632e4d273ebca25066.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/post/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Post</a></li><ul><li class="collapse show" id=post><a class="td-sidebar-link td-sidebar-link__page active" id=m-postbuild-web-ide-using-code-server href=/post/build-web-ide-using-code-server/>code-server를 이용해서 웹 IDE 구축하기</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-postcreate-gcp-instance href=/post/create-gcp-instance/>GCP 인스턴스 만들기</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-postcoding-in-the-military href=/post/coding-in-the-military/>군대에서 코딩하기</a></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><nav id=TableOfContents><ul><li><a href=#서론>서론</a></li><li><a href=#개발-환경-구축>개발 환경 구축</a><ul><li><a href=#설치-및-실행>설치 및 실행</a></li><li><a href=#외부-접속-허용-및-비밀번호-설정>외부 접속 허용 및 비밀번호 설정</a></li><li><a href=#nginx-구축>Nginx 구축</a></li><li><a href=#버전-업데이트>버전 업데이트</a></li></ul></li><li><a href=#추가적인-설정>추가적인 설정</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role=main><a class="btn btn-lg -bg-orange td-rss-button d-none d-lg-block" href=http://Jeonghun-Ban.github.io/post/index.xml target=_blank>RSS <i class="fa fa-rss ml-2"></i></a><div class=td-content><h1>code-server를 이용해서 웹 IDE 구축하기</h1><div class=lead>나만의 웹 IDE 만들기</div><div class="td-byline mb-4"><time datetime=2020-12-03 class=text-muted>2020.12.03</time></div><h2 id=서론>서론</h2><p>최근 웹으로 접속하는 개발환경인 <code>Web IDE</code>가 활발하게 활용되고 있다. 대표적으로 <code>Cloud9</code>, <code>Codeanywhere</code>, <code>구름IDE</code> 등이 있는데, 깃헙에서도 <a href=https://github.com/features/codespaces>Codespace</a>라는 이름으로 비슷한 서비스를 준비중에 있다. 나는 VSCode를 웹에서 바로 사용 가능하다는 점이 마음에 들어 미리보기를 신청했으나 아쉽게도 당첨되지 않았다..</p><p>그래서 방법을 찾던 중 <code>code-server</code>이라는 오픈소스를 찾게 되었다. 해당 서비스는 VS Code를 웹 서버에서 동작할 수 있게 하는 프로젝트이다. <code>MIT 라이선스</code>로 제공되는 오픈 소스인 만큼 조건 없이 사용 가능하다는 것도 장점이다. 군대에서 제약없이 코딩하고자 하는 나에게 있어서 최고의 선택지였다.</p><h2 id=개발-환경-구축>개발 환경 구축</h2><p>서론이 길었던 것 만큼 설치과정이 길거라고 생각한다면 그것은 큰 착각이다. 설치는 매우 간단하다. 다른 블로그 글을 참고해서 설치해보기도 했지만, 여타 방법보다는 <a href=https://github.com/cdr/code-server>github repo</a>에 나와있는 설치법이 더 쉽고 빠르게 할 수 있다.</p><h3 id=설치-및-실행>설치 및 실행</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl -fsSL https://code-server.dev/install.sh | sh
sudo systemctl enable --now code-server@$USER <span style=color:#75715e># 시스템 부팅 시 자동실행 등록</span>
</code></pre></div><p>위 코드를 실행하면 <code>code-server</code>를 설치하고 시스템 부팅 시 자동실행이 가능하도록 등록하는 과정까지 마치게 된다. 동시에 <code>code-server</code>는 이미 동작 중에 있겠지만 바로 사용할 수는 없는데, 이는 기본적으로 <code>localhost(127.0.0.1)</code>의 접속만 허용하기 때문이다. 따라서 외부에서 접속 가능하게 하는 설정이 필요하다.</p><h3 id=외부-접속-허용-및-비밀번호-설정>외부 접속 허용 및 비밀번호 설정</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>vi ~/.config/code-server/config.yaml
</code></pre></div><p>기본적으로 <code>code-server</code>의 설정 파일은 위 경로에 위치한 <code>config.yaml</code> 파일이다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>bind-addr</span>: <span style=color:#ae81ff>0.0.0.0</span>:<span style=color:#ae81ff>8080</span>
<span style=color:#f92672>auth</span>: <span style=color:#ae81ff>password</span>
<span style=color:#f92672>password</span>: <span style=color:#75715e>#설정할 비밀번호 입력</span>
<span style=color:#f92672>cert</span>: <span style=color:#66d9ef>false</span>
</code></pre></div><ul><li><code>bind-addr</code>: 해당 서비스 주소</li><li><code>auth</code>: 패스워드 설정 여부</li><li><code>password</code>: 패스워드 지정</li><li><code>cert</code>: 인증서 설정</li></ul><blockquote><p><code>bind-addr</code>값을 <code>127.0.0.1</code>에서 <code>0.0.0.0</code>으로 변경하는 것은 외부에서 접속하는 것도 허용함을 의미한다.</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo systemctl restart code-server@$USER
</code></pre></div><p>모든 설정이 완료되었다면 <code>code-server</code>를 재실행해준다. 이제 브라우저에서 <code>ip-address:8080</code>으로 접속할 수 있게 되었다. 포트 번호를 넣지 않고 주소만으로 접속하고 싶다면 아래도 이어서 따라와주길 바란다.</p><h3 id=nginx-구축>Nginx 구축</h3><p><code>Nginx</code>는 <code>Apache</code>와 같은 웹 서버 소프트웨어이다. 아파치가 이전에 많이 사용되었다면 최근 만들어지는 프로젝트의 다수는 Nginx로 구성하는 추세이다. 가벼우면서도 아차피보다 더 많은 프로세스를 감당할 수 있다는 장점도 있다.</p><p>이 Nginx는 <code>포워드 프록시</code>라는 기능을 제공하는데 이를 활용하면 서버 ip주소만으로 서비스 포트가 8080인 <code>code-server</code>를 접속할 수 있다.</p><h4 id=bind-addr-초기화>bind-addr 초기화</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>vi ~/.config/code-server/config.yaml <span style=color:#75715e># bind-addr: 127.0.0.1:8080</span>
sudo systemctl restart code-server@$USER
</code></pre></div><p>해당 과정을 위해서는 <code>code-server</code>의 <code>bind-addr</code>를 localhost로 다시 설정해주어야 한다.</p><h4 id=nginx-설치>Nginx 설치</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt install -y nginx
</code></pre></div><h4 id=etcnginxsites-availablecode-server-파일에-아래-설정-추가sudo-권한><code>/etc/nginx/sites-available/code-server</code> 파일에 아래 설정 추가(sudo 권한)</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nginx data-lang=nginx><span style=color:#66d9ef>server</span> {
    <span style=color:#f92672>listen</span> <span style=color:#ae81ff>80</span>;
    <span style=color:#f92672>listen</span> <span style=color:#e6db74>[::]:80</span>;
    <span style=color:#f92672>server_name</span> <span style=color:#e6db74>mydomain.com</span>; <span style=color:#75715e># 도메인이 있다면 변경
</span><span style=color:#75715e></span>
    <span style=color:#f92672>location</span> <span style=color:#e6db74>/</span> {
      <span style=color:#f92672>proxy_pass</span> <span style=color:#e6db74>http://localhost:8080/</span>;
      <span style=color:#f92672>proxy_set_header</span> <span style=color:#e6db74>Host</span> $host;
      <span style=color:#f92672>proxy_set_header</span> <span style=color:#e6db74>Upgrade</span> $http_upgrade;
      <span style=color:#f92672>proxy_set_header</span> <span style=color:#e6db74>Connection</span> <span style=color:#e6db74>upgrade</span>;
      <span style=color:#f92672>proxy_set_header</span> <span style=color:#e6db74>Accept-Encoding</span> <span style=color:#e6db74>gzip</span>;
    }
}
</code></pre></div><blockquote><p>80번 포트로 listen하고 해당 프록시를 localhost의 8080 포트로 pass하는 설정이다.</p></blockquote><h4 id=설정-적용>설정 적용</h4><pre><code>sudo rm /etc/nginx/sites-enabled/default
sudo ln -s ../sites-available/code-server /etc/nginx/sites-enabled/code-server
sudo systemctl reload nginx.service
</code></pre><p>설정이 제대로 적용되었다면 이후부터는 ip주소만으로 브라우저에서 <code>code-server</code>을 이용할 수 있게 된다.</p><h3 id=버전-업데이트>버전 업데이트</h3><p>이 포스팅을 쓰는 도중에도 코드 서버는 <code>v3.7.3</code>에서 <code>v3.7.4</code>로 버전 업데이트가 이루어졌다. 몇 가지 버그 픽스와 기능 추가가 있는 작은 업데이트이었지만 <code>code-server</code>는 접속할 때마다 새로운 버전이 나왔음을 알려주었다. 버전을 업데이트하는 방법은 매우 간단하다.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl -fsSL https://code-server.dev/install.sh | sh
</code></pre></div><p>설치할 때 사용한 코드를 동일하게 실행해주면 바로 적용된다. 이렇게 지속적으로 빠르게 업데이트가 되는 것은 이 프로젝트가 오픈 소스이기 때문에 얻을 수 있는 큰 장점이다. 이렇게 좋은 개발환경을 무료로 자유로이 사용할 수 있다는 것에 감사하고 있다.</p><h2 id=추가적인-설정>추가적인 설정</h2><p>이렇게 해서 개인 서버에 <code>code-server</code>를 설치해서 웹 브라우저를 통해 접속할 수 있는 환경을 만들어 보았다. 공식 문서에서는 추가적으로 <code>Nginx</code> 등을 활용하여 https 통신으로 암호화하는 것을 권장하는데, 자세한 내용은 <a href=https://github.com/cdr/code-server/blob/v3.7.4/doc/guide.md>여기</a>를 통해 볼 수 있다. 해당 방법은 도메인네임이 있어야만 하므로 해당 비용을 감수하기 싫다면 굳이 진행하지 않아도 무관하다.</p><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/post/create-gcp-instance/ class="btn btn-primary"><span class=mr-1>←</span> 이전</a></li><a class="btn btn-primary disabled">다음 <span class=ml-1>→</span></a></li></ul></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Facebook aria-label=Facebook><a class=text-white target=_blank rel="noopener noreferrer" href="https://www.facebook.com/profile.php?id=100008030658971"><i class="fab fa-facebook"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Instagram aria-label=Instagram><a class=text-white target=_blank rel="noopener noreferrer" href=https://www.instagram.com/bj_h00n/><i class="fab fa-instagram"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=LinkedIn aria-label=LinkedIn><a class=text-white target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/in/%EC%A0%95%ED%9B%88-%EB%B0%98-81683b17a/><i class="fab fa-linkedin"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Rocket Punch" aria-label="Rocket Punch"><a class=text-white target=_blank rel="noopener noreferrer" href=https://www.rocketpunch.com/@sae-yujeo-cugab062fb66><i class="fas fa-rocket"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/Jeonghun-Ban><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contact aria-label=Contact><a class=text-white target=_blank rel="noopener noreferrer" href=mailto://junghoon.ban@gmail.com><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020 Jeonghun-Ban | Licensed under the <a href=https://github.com/Jeonghun-Ban/blog/blob/master/LICENSE>Apache License, Version 2.0</a></small></br><small class=text-white>Theme Docsy designed by Google</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/js/main.min.460c8ae21829f9b330823a08f34ac961d7d0daa8874c8c9eba7ea0484bb42a79.js integrity="sha256-RgyK4hgp+bMwgjoI80rJYdfQ2qiHTIyeun6gSEu0Knk=" crossorigin=anonymous></script></body></html>