<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jeonghun-Ban – Security</title><link>http://Jeonghun-Ban.github.io/til/security/network/</link><description>Recent content in Security on Jeonghun-Ban</description><generator>Hugo -- gohugo.io</generator><language>ko-kr</language><lastBuildDate>Mon, 16 Nov 2020 00:00:00 +0000</lastBuildDate><atom:link href="http://Jeonghun-Ban.github.io/til/security/network/index.xml" rel="self" type="application/rss+xml"/><item><title>Til: Introduction</title><link>http://Jeonghun-Ban.github.io/til/security/network/introduction/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/introduction/</guid><description>
&lt;h2 id="블루투스">블루투스&lt;/h2>
&lt;p>서로 다른 기능을 가진 장치를 연결하기 위해 설계된 무선 LAN 기술&lt;/p>
&lt;ul>
&lt;li>낮은 가격&lt;/li>
&lt;li>높은 서비스&lt;/li>
&lt;li>케이블 없이 여러 대 동시 연결&lt;/li>
&lt;/ul>
&lt;h3 id="구조">구조&lt;/h3>
&lt;ul>
&lt;li>피코넷(piconet)
&lt;ul>
&lt;li>&lt;code>8개&lt;/code>의 지국&lt;/li>
&lt;li>하나는 &lt;code>주국(Primary)&lt;/code>이고, 나머지는 &lt;code>종국(Secondary)&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>스캐터넷(scatternet)
&lt;ul>
&lt;li>여러개의 피코넷이 합쳐진 형태&lt;/li>
&lt;li>피코넷 안의 종국은 다른 피코넷에서 주국이 될 수 있음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="취약점">취약점&lt;/h3>
&lt;ul>
&lt;li>블루프린팅(Blueprinting): 블루투스 &lt;code>장치를 검색&lt;/code>하는 활동&lt;/li>
&lt;li>블루스나핑(Bluesnarfing): 블루투스의 취약점을 이용하여 장치의 &lt;code>임의 파일에 접근&lt;/code>하는 공격&lt;/li>
&lt;li>블루버깅(Bluebugging): 블루투스 장치 간의 취약한 연결 관리를 악용해 &lt;code>공격 대상 장치를 연결&lt;/code>하여 임의의 동작을 수행&lt;/li>
&lt;li>블루재킹(Bluejacking): 블루투스를 이용해 특정 &lt;code>정보를 익명으로 퍼뜨리는 것&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="무선랜">무선랜&lt;/h2>
&lt;h3 id="취약점-1">취약점&lt;/h3>
&lt;h4 id="물리적-취약점">물리적 취약점&lt;/h4>
&lt;ul>
&lt;li>도난 및 파손&lt;/li>
&lt;li>구성설정 초기화&lt;/li>
&lt;li>전원차단&lt;/li>
&lt;li>LAN 차단&lt;/li>
&lt;/ul>
&lt;h4 id="기술적-취약점">기술적 취약점&lt;/h4>
&lt;ul>
&lt;li>도청&lt;/li>
&lt;li>서비스 거부(DOS)&lt;/li>
&lt;li>불법 AP
&lt;ul>
&lt;li>사용자 정보 수집&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="관리적-취약점">관리적 취약점&lt;/h4>
&lt;ul>
&lt;li>장비 관리 미흡&lt;/li>
&lt;li>사용자의 보안의식 결여&lt;/li>
&lt;li>전파 관리 미흡&lt;/li>
&lt;/ul>
&lt;h3 id="ssid-설정과-폐쇄시스템-운영">SSID 설정과 폐쇄시스템 운영&lt;/h3>
&lt;p>&lt;code>SSID 값을 NULL&lt;/code>로 하여 접속을 요구하는 사용자를 차단하도록 AP를 설정(폐쇄시스템)&lt;/p>
&lt;ul>
&lt;li>SSID를 모르는 사용자의 접근 시도 감소/차단 효과&lt;/li>
&lt;li>&lt;code>NetStumbler&lt;/code> 등을 이용한 스푸핑을 미연에 방지&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>SSID(Service Set Identifier): 32bytes의 고유 식별자로 구성된 AP를 구분하는 ID&lt;/p>
&lt;/blockquote>
&lt;h3 id="mac-주소-인증">MAC 주소 인증&lt;/h3>
&lt;p>접속을 허용하는 사용자의 &lt;code>MAC을 사전에 등록&lt;/code>&lt;/p>
&lt;ul>
&lt;li>간단한 보안설정으로 효과적인 접근제어&lt;/li>
&lt;li>대규모 기관에서는 MAC 주소 관리 어려움&lt;/li>
&lt;/ul>
&lt;h2 id="무선랜-인증-기술">무선랜 인증 기술&lt;/h2>
&lt;h3 id="wepwired-equivalent-privacy-인증">WEP(Wired Equivalent Privacy) 인증&lt;/h3>
&lt;p>&lt;code>사용자 인증&lt;/code>과 &lt;code>데이터 암호화&lt;/code>를 모두 적용 가능&lt;/p>
&lt;ul>
&lt;li>구현이 간단하고, 인증 절차도 간결&lt;/li>
&lt;li>정적 WEP
&lt;ul>
&lt;li>&lt;code>RC4&lt;/code> 알고리즘 사용으로 암호화키 복호화에 취약&lt;/li>
&lt;li>단방향 인증의 취약성
&lt;ul>
&lt;li>불법 복제 AP로 인한 피해 발생 가능성&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>고정된 공유키&lt;/code> 사용의 취약성
&lt;ul>
&lt;li>WEP 키 값이 외부로 유출될 경우 문제 발생&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>동적 WEP
&lt;ul>
&lt;li>기존 WEP과 다르게 암호화 &lt;code>키 값이 주기적으로 변경&lt;/code>&lt;/li>
&lt;li>802.1x에서 암호화 기법으로 채택&lt;/li>
&lt;li>기존 RC4 알고리즘을 그대로 사용하므로 취약점 해결 안됨&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="eapextensible-authentication-protocol-인증">EAP(Extensible Authentication Protocol) 인증&lt;/h3>
&lt;p>IEEE 802.1x에서 사용자 인증 방법으로 사용&lt;/p>
&lt;ul>
&lt;li>어떠한 링크에도 접속 가능한 단순한 캡슐화 개념 알고리즘&lt;/li>
&lt;li>인증 서버와 무선장비 사이에 &lt;code>상호 인증&lt;/code>을 허용&lt;/li>
&lt;li>사용자가 패스워드, OTP, 인증서 등을 사용성을 제공&lt;/li>
&lt;/ul>
&lt;h2 id="무선랜-암호화-기술">무선랜 암호화 기술&lt;/h2>
&lt;h3 id="wepwired-equivalent-privacy">WEP(Wired Equivalent Privacy)&lt;/h3>
&lt;p>무선 AP와 무선 단말기 간에 주고받는 무선 전송데이터를 2개의 장비가 약속한 &lt;code>40bit 공유 비밀키&lt;/code>와 임의로 선택되는 &lt;code>24bit의 IV&lt;/code> 값을 조합 한 &lt;code>64bit&lt;/code> 키를 이용해 전송 데이터를 &lt;code>RC4 스트림 방식&lt;/code>으로 암호화&lt;/p>
&lt;h4 id="암호화-절차">암호화 절차&lt;/h4>
&lt;p>&lt;img src="images/2020-05-31-14-00-55.png" alt="WEP 암호화 절차">&lt;/p>
&lt;ul>
&lt;li>공유키와 난수 발생기를 이용하여 &lt;code>RC4 알고리즘&lt;/code>을 통한 키스트림 생성&lt;/li>
&lt;li>무결성 보장을 위해 &lt;code>CRC-32 알고리즘&lt;/code>으로 구성되는 ICV(Integrity Check Value)를 사용&lt;/li>
&lt;li>키스트림과 평문과 ICV값이 합쳐진 데이터를 &lt;code>XOR 연산&lt;/code> 수행하여 암호문 생성&lt;/li>
&lt;li>생성된 암호문에 IV(초기벡터) 값 추가&lt;/li>
&lt;/ul>
&lt;h4 id="복호화-절차">복호화 절차&lt;/h4>
&lt;ul>
&lt;li>송신자가 보낸 패킷에서 IV값 추출&lt;/li>
&lt;li>IV값과 WEP키와 난수발생기를 이용해 키 스트림 생성&lt;/li>
&lt;li>키 스트림과 암호문을 XOR하여 복호화&lt;/li>
&lt;li>복호화된 평문을 &lt;code>CRC-32&lt;/code> 연산을 통한 ICV&amp;rsquo;와 ICV를 비교하여 무결성 검사&lt;/li>
&lt;li>무결성 확인 후 평문 수신&lt;/li>
&lt;/ul>
&lt;h4 id="취약점-2">취약점&lt;/h4>
&lt;ul>
&lt;li>&lt;code>24bit&lt;/code>의 짧은 IV 길이&lt;/li>
&lt;li>고정된 키 값을 사용하여 외부 유출 위험성&lt;/li>
&lt;/ul>
&lt;h3 id="tkiptemporal-key-integrity-protocol">TKIP(Temporal Key Integrity Protocol)&lt;/h3>
&lt;ul>
&lt;li>&lt;code>48bit&lt;/code>의 확장된 길이의 IV
&lt;ul>
&lt;li>재사용 공격으로부터 보호&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>WEP의 CRC-32 알고리즘보다 안전한 &lt;code>MIC&lt;/code>를 사용
&lt;ul>
&lt;li>무결성 보장&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>WPA&lt;/code>가 이 방식을 사용&lt;/li>
&lt;/ul>
&lt;h4 id="취약점-3">취약점&lt;/h4>
&lt;ul>
&lt;li>여전히 RC4 암호 알고리즘을 사용&lt;/li>
&lt;li>키 관리 방법을 제공하지 않음&lt;/li>
&lt;/ul>
&lt;h3 id="ccmpcounter-mode-with-cbc-mac-protocol">CCMP(Counter mode with CBC-MAC protocol)&lt;/h3>
&lt;ul>
&lt;li>RC4 암호 알고리즘이 아닌 &lt;code>AES 암호 알고리즘&lt;/code>을 사용&lt;/li>
&lt;li>&lt;code>128bit&lt;/code>의 대칭키와 &lt;code>48bit&lt;/code>의 IV 사용&lt;/li>
&lt;li>Counter 모드 기반의 &lt;code>CBC-MAC&lt;/code>에 기반&lt;/li>
&lt;li>데이터 영역과 헤더의 무결성 보장, PN(Packet Number)을 통한 재생공격 방지&lt;/li>
&lt;/ul>
&lt;h2 id="무선랜-인증-및-암호화-복합-기술">무선랜 인증 및 암호화 복합 기술&lt;/h2>
&lt;h3 id="wpawi-fi-protected-access">WPA(Wi-Fi Protected Access)&lt;/h3>
&lt;ul>
&lt;li>&lt;code>TKIP&lt;/code> 암호화 방식 + &lt;code>EAP&lt;/code> 인증 수행&lt;/li>
&lt;li>WEP의 약점 해결&lt;/li>
&lt;li>RC4 암호 알고리즘 사용의 취약점&lt;/li>
&lt;/ul>
&lt;h3 id="wpa2rsn-robust-security-network">WPA2(RSN, Robust Security Network)&lt;/h3>
&lt;ul>
&lt;li>&lt;code>CCMP&lt;/code> 암호화 방식 + &lt;code>IEEE 802.11i 수정안&lt;/code>을 포함&lt;/li>
&lt;li>&lt;code>AES&lt;/code> 알고리즘 사용으로 좀 더 강력한 보안&lt;/li>
&lt;/ul>
&lt;h3 id="wpa-pskwi-fi-protected-access-pre-shared-key">WPA-PSK(Wi-Fi Protected Access Pre-Shared Key)&lt;/h3>
&lt;ul>
&lt;li>인증서버가 설치되지 않은 소규모 망에서 사용&lt;/li>
&lt;li>AP와 단말기가 사전에 공유한 비밀키를 &lt;code>4-way-handshake&lt;/code> 절차로 확인&lt;/li>
&lt;li>128bit 암호화키, 10000개 패킷마다 갱신&lt;/li>
&lt;/ul>
&lt;h3 id="8021xeapwpa-eap-wpa-enterprise">802.1x/EAP(WPA-EAP, WPA-Enterprise)&lt;/h3>
&lt;ul>
&lt;li>WPA/WPA-2는 키 관리 방식 중점 보안이었다면&lt;/li>
&lt;li>WPA-Enterprise 방식인 EAP는 &lt;code>사용자 인증&lt;/code>까지 보완한 방식&lt;/li>
&lt;li>다양한 인증을 제공하고 세션별 암호화 키 제공&lt;/li>
&lt;/ul>
&lt;h2 id="wapwireless-application-protocol">WAP(Wireless Application Protocol)&lt;/h2>
&lt;p>무선통신을 사용하는 응용 프로그램의 국제표준&lt;/p>
&lt;ul>
&lt;li>무선 마크업 언어(WML, Wireless Markup Language)
&lt;ul>
&lt;li>제한된 통신 용량, 제한된 사용자 입력 기능을 가진 장비에서 콘텐츠와 양식을 표현하기 위한 언어&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>무선 응용 환경(WAE, Wireless Application Environment)
&lt;ul>
&lt;li>WAP가 지원하는 응용 프로그램과 장비 개발을 쉽게 하기 위한 도구와 형식의 집합&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="프로토콜-구조">프로토콜 구조&lt;/h3>
&lt;p>&lt;img src="images/2020-05-31-14-55-53.png" alt="WAP 프로토콜 구조">&lt;/p>
&lt;ul>
&lt;li>무선 세션 프로토콜(WSP)
&lt;ul>
&lt;li>연결형 세션 서비스
&lt;ul>
&lt;li>WTP 상에서 동작&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>비연결형 세션 서비스
&lt;ul>
&lt;li>WDP 상에서 동작&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>무선 트랜잭션 프로토콜(WTP)
&lt;ul>
&lt;li>사용자와 응용 서버 간 브라우징, 전자상거래 트랜잭션과 같은 동작을 위해 요청/응답을 전달해 트랜잭션 관리&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>무선 데이터그램 프로토콜(WDP)
&lt;ul>
&lt;li>상위 계층 WAP 프로토콜을 모바일 노드와 WAP 게이트웨이 사이서 사용되는 통신방법으로 변경&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>WTLS(Wireless Transport Layer Security)
&lt;ul>
&lt;li>TLS에 기반하여 모바일 장비와 WAP 게이트웨이 간의 보안 서비스를 제공&lt;/li>
&lt;li>데이터 무결성, 프라이버시, 인증, DDoS 공격 보호 기능을 지원&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="인증-기술">인증 기술&lt;/h2>
&lt;h3 id="기기-인증-기술">기기 인증 기술&lt;/h3>
&lt;ul>
&lt;li>아이디/패스워드 기반 인증 방법
&lt;ul>
&lt;li>클라이언트 &lt;code>ID/PW&lt;/code>를 서버 DB와 비교&lt;/li>
&lt;li>&lt;code>무선 네트워크 아이디&lt;/code>(SSID)을 사용한 인증&lt;/li>
&lt;li>무선 단말과 AP간 &lt;code>WEP 키&lt;/code>를 이용한 인증&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>MAC 주소&lt;/code> 값 인증&lt;/li>
&lt;li>&lt;code>암호 프로토콜&lt;/code>을 이용한 인증
&lt;ul>
&lt;li>WPA, WPA2, EAP, CCMP 등&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>시도/응답 인증
&lt;ul>
&lt;li>OTP와 유사하게 일회성 &lt;code>해시값&lt;/code>을 생성하여 사용자 인증&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="rfidradio-frequency-identifier">RFID(Radio Frequency Identifier)&lt;/h3>
&lt;p>무선 주파수(RF)와 제품에 붙이는 태그에 생산, 유통, 보관, 소비의 전 과정에 대한 정보와 연동되는 식별자인 &lt;code>전자칩&lt;/code>을 이용하여 물체를 식별&lt;/p>
&lt;ul>
&lt;li>RFID 네트워크 공격
&lt;ul>
&lt;li>도청, 트래픽 분석, 위조, DDoS 공격 등&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>보안 기술
&lt;ul>
&lt;li>Kill 명령어
&lt;ul>
&lt;li>태그를 &lt;code>영구적으로 비활성화&lt;/code> 시키는 방식&lt;/li>
&lt;li>활용도가 낮음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Sleep / Wake 명령어
&lt;ul>
&lt;li>&lt;code>일시적으로 정지&lt;/code>시켰다가 다시 동작&lt;/li>
&lt;li>관리의 어려움&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>블로커(Blocker) 태그
&lt;ul>
&lt;li>&lt;code>전용 IC 태그&lt;/code>를 소지함으로 가까이에 있는 IC 태그의 ID를 읽을 수 없게 만듦&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Faraday Cage
&lt;ul>
&lt;li>태그를 &lt;code>물리적인 방법&lt;/code>으로 막아 무선 신호의 전달을 방해&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Jamming
&lt;ul>
&lt;li>강한 &lt;code>방해 신호&lt;/code>를 보내어 불법적인 리더기의 접근을 막음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>암호 기술
&lt;ul>
&lt;li>해시 락(Hash Lock)
&lt;ul>
&lt;li>일방향 해시 함수를 기반으로 하는 접근제어 메커니즘&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>XOR기반 원타임 패드 기법
&lt;ul>
&lt;li>스트림 암호화를 이용한 정보 보호&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="모바일-보안">모바일 보안&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>구분&lt;/th>
&lt;th>iOS&lt;/th>
&lt;th>안드로이드&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>운영체제&lt;/td>
&lt;td>유닉스 기반&lt;/td>
&lt;td>리눅스 기반&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>보안 통제권&lt;/td>
&lt;td>애플&lt;/td>
&lt;td>사용자 또는 개발자&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>프로그램 실행 권한&lt;/td>
&lt;td>Root&lt;/td>
&lt;td>사용자&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>응용프로그램에 대한 서명&lt;/td>
&lt;td>애플의 CA&lt;/td>
&lt;td>개발자&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>샌드박스&lt;/td>
&lt;td>프로그램 간 통신 통제&lt;/td>
&lt;td>비교적 자유로움&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>부팅 절차&lt;/td>
&lt;td>암호화 로직으로 서명된 안전 부팅&lt;/td>
&lt;td>-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>소프트웨어 관리&lt;/td>
&lt;td>단말 기기별 고유 소프트웨어 설치 키 관리&lt;/td>
&lt;td>-&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>애플리케이션 정책&lt;/td>
&lt;td>폐쇄적&lt;/td>
&lt;td>개방적&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>애플리케이션 배포 방식&lt;/td>
&lt;td>앱스토어&lt;/td>
&lt;td>개방&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>악성 애플리케이션 검수&lt;/td>
&lt;td>검수 후 앱스토어 등록&lt;/td>
&lt;td>알려지면 삭제&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="byodbring-your-own-device-보안-기술">BYOD(bring Your Own Device) 보안 기술&lt;/h2>
&lt;ul>
&lt;li>MDM(Mobile Device Management)
&lt;ul>
&lt;li>모바일 기기를 완전 제어할 수 있도록 잠금, 제어, 보안 정책 실행기능 제공&lt;/li>
&lt;li>보안 정책에 위반되는 앱은 설치 불가&lt;/li>
&lt;li>탈옥한 기기는 사용 불가능, 도난 기기 원격 데이터 삭제 등 기능 제공&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>컨테이너화
&lt;ul>
&lt;li>암호화된 별도 공간에 업무용 데이터와 개인용 데이터를 분리하고 관리&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>모바일 가상화
&lt;ul>
&lt;li>하나의 모바일 기기에 개인용과 업무용 OS를 동시에 담아 분리&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>MAM(Mobile Application Management)
&lt;ul>
&lt;li>기기에 설치된 업무 관련 앱에만 보안 및 관리 기능을 적용&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>NAC(Network Access control)
&lt;ul>
&lt;li>기업 내부 네트워크 접근 전 보안정책 준수 여부 검사하는 접근통제 수행&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Til: Management</title><link>http://Jeonghun-Ban.github.io/til/security/network/management/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/management/</guid><description>
&lt;p>네트워크 자원들에 대하여 적절한 관리행위&lt;/p>
&lt;ul>
&lt;li>네트워크 사업자와 사용자에게 안정적인 네트워크 서비스 제공&lt;/li>
&lt;li>네트워크의 규모가 커질 경우 전체 네트워크의 원할한 동작을 위함&lt;/li>
&lt;li>ISP 사업자들이 인터넷 서비스에 대한 신뢰도 향상&lt;/li>
&lt;/ul>
&lt;h2 id="관리-기능">관리 기능&lt;/h2>
&lt;ul>
&lt;li>계정 관리: 개방시스템에서 일어나는 어떤 활동에 의해 소비되는 자원에 관한 모든 정보 관리
&lt;ul>
&lt;li>인증, 과금 등 기능&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>구성 관리: 구성원들 사이의 관계와 상태를 보여줌&lt;/li>
&lt;li>성능 관리&lt;/li>
&lt;li>장애 관리&lt;/li>
&lt;li>보안 관리: 패스워드, 암호화된 데이터링크를 유지 보수 및 보안 행위를 기록
&lt;ul>
&lt;li>암호화 사용, 암호화 키 생성 및 분배 관리&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="snmpsimple-network-management-protocol">SNMP(Simple Network Management Protocol)&lt;/h2>
&lt;p>관리자가 라우터나 서버인 에이전트 집단을 제어 및 관리&lt;/p>
&lt;h3 id="정보-교환-방식">정보 교환 방식&lt;/h3>
&lt;ul>
&lt;li>폴링(Polling): 에이전트의 정보를 주기적으로 수집하는 것&lt;/li>
&lt;li>트랩(Trap): 에이전트에서 이벤트가 발생하는 경우 관리자에게 인터럽트&lt;/li>
&lt;/ul>
&lt;h3 id="구성-요소">구성 요소&lt;/h3>
&lt;ul>
&lt;li>SMI(Structure of Management Information)
&lt;ul>
&lt;li>객체에 &lt;code>이름&lt;/code>을 붙이고 객체 &lt;code>유형&lt;/code>을 정의&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>MIB(Management Information Base)
&lt;ul>
&lt;li>관리될 각 개체를 위해 &lt;code>객체의 수&lt;/code>를 결정&lt;/li>
&lt;li>SMI를 통해 생성된 객체를 유형에 연결&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PDU(Protocol Data Unit)
&lt;ul>
&lt;li>데이터 통신에서 상위 계층이 전달한 데이터에 붙이는 &lt;code>제어정보&lt;/code>&lt;/li>
&lt;li>SNMPv3는 8개 유형의 PDU을 정의&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>커뮤니티 스트링(Community String)
&lt;ul>
&lt;li>관리자가 에이전트로부터 데이터를 요청하기 위해 사용하는 &lt;code>패스워드&lt;/code>&lt;/li>
&lt;li>Read-only(Public)
&lt;ul>
&lt;li>매니저가 MIB에 보관된 데이터를 읽을 수 있음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Read-Write(Private)
&lt;ul>
&lt;li>매니저가 데이터를 읽고 쓸 수 있음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="원격-접속-서비스">원격 접속 서비스&lt;/h2>
&lt;ul>
&lt;li>Telnet
&lt;ul>
&lt;li>가상 터미널 서비스에 대한 표준 TCP/IP 프로토콜&lt;/li>
&lt;li>원격 시스템과 연결에 사용&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Rlogin
&lt;ul>
&lt;li>원격지 접속을 지원하는 프로토콜(BSD기반 간)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SSH
&lt;ul>
&lt;li>&lt;code>암호화&lt;/code>된 원격 로그인 수행&lt;/li>
&lt;li>Telnet과 RLogin을 대체하기 위해 사용&lt;/li>
&lt;li>SSH-1과 SSH-2는 서로 호환되지 않음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ssh">SSH&lt;/h3>
&lt;h4 id="컴포넌트">컴포넌트&lt;/h4>
&lt;ul>
&lt;li>SSH 전송 계층 프로토콜(SSH-TRANS)
&lt;ul>
&lt;li>TCP상에 &lt;code>안전한 채널&lt;/code>을 생성하는 프로토콜&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SSH 인증 프로토콜(SSH-AUTH)
&lt;ul>
&lt;li>SSH는 서버에 대해 &lt;code>클라이언트를 인증&lt;/code>하는 소프트웨어를 호출&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SSH 연결 프로토콜(SSH-CONN)
&lt;ul>
&lt;li>여러개의 &lt;code>논리적 통신채널의 다중화&lt;/code>를 수행&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SSH 응용(SSH-Application)
&lt;ul>
&lt;li>여러개의 응용 프로그램이 연결을 사용할 수 있도록 설정&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="기능">기능&lt;/h4>
&lt;ul>
&lt;li>포트 전달(Port Forwarding)
&lt;ul>
&lt;li>보안서비스를 제공하지 않는 프로그램에 접속하기 위해 SSH에서 이용 가능한 안전한 채널 사용&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SSH 터널링
&lt;ul>
&lt;li>원격의 사설 네트워크를 로컬 네트워크처럼 사용가능&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="암호화">암호화&lt;/h4>
&lt;p>SSH는 암호화 통신 할 때 &lt;code>공개키 암호기법&lt;/code>을 사용한다.&lt;/p>
&lt;ul>
&lt;li>접속과 인증: &lt;code>RSA&lt;/code>&lt;/li>
&lt;li>통신: Blowfish, DES, 3DES, RC4, IDEA 등&lt;/li>
&lt;li>과정
&lt;ul>
&lt;li>클라이언트가 서버로부터 공개키를 얻어옴&lt;/li>
&lt;li>클라이언트가 자신의 개인키로 데이터를 암호화, 서버의 공개키로 암호화 후 서버에 전송&lt;/li>
&lt;li>서버는 암호화된 데이터를 자신의 사설키로 복호화, 클라이언트의 공개키로 데이터 복호화 후 데이터 읽음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Til: DoS Attack</title><link>http://Jeonghun-Ban.github.io/til/security/network/dos-attack/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/dos-attack/</guid><description>
&lt;h2 id="서비스-거부-공격dos">서비스 거부 공격(DoS)&lt;/h2>
&lt;p>시스템에 과도한 &lt;code>부하&lt;/code>를 일으켜 시스템의 &lt;code>사용을 방해&lt;/code>하는 공격 방식(가용성 침해)&lt;/p>
&lt;h3 id="tcp-syn-flooding-attack">TCP SYN Flooding Attack&lt;/h3>
&lt;p>TCP 연결 과정 중에 3-way handshaking 과정에서 &lt;code>Half-Open&lt;/code> 연결 시도가 가능하다는 취약점을 이용한 공격 기법&lt;/p>
&lt;p>&lt;img src="images/2020-05-31-16-21-21.png" alt="TCP SYN Flooding Attack">&lt;/p>
&lt;ul>
&lt;li>클라이언트가 &lt;code>SYN&lt;/code>을 보내면 서버는 이에 대한 응답으로 &lt;code>SYN + ACK&lt;/code>을 보내고 &lt;code>SYN Received&lt;/code> 상태가 됨&lt;/li>
&lt;li>이후 서버는 클라이언트로부터의 ACK 패킷 수신을 &lt;code>일정시간동안 대기&lt;/code>하게 된다.&lt;/li>
&lt;/ul>
&lt;h4 id="공격-방법">공격 방법&lt;/h4>
&lt;ul>
&lt;li>조작된 IP로부터 &lt;code>SYN&lt;/code> 메시지를 공격대상자에게 대량 전송&lt;/li>
&lt;li>서버는 조작된 IP로 &lt;code>SYN+ACK&lt;/code> 전송&lt;/li>
&lt;li>만약 시스템이 존재하는 IP라면 &lt;code>RST(Reset)&lt;/code> 패킷이 전송되어 연결 끊김
&lt;ul>
&lt;li>해당 클라이언트가 서비스 요청을 하지 않았음을 확인&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>존재하지 않는 IP라면 클라이언트가 RST 패킷을 전송하지 않음&lt;/li>
&lt;li>서버는 일정시간동안 &lt;code>SYN+ACK을 재전송하며 대기&lt;/code>&lt;/li>
&lt;li>서버의 TCP 연결테이블 공간을 차지하기 때문에 정상적인 서비스 요청이 거부됨&lt;/li>
&lt;/ul>
&lt;h4 id="보안-대책">보안 대책&lt;/h4>
&lt;ul>
&lt;li>SYN 연결 요청에 임계치 설정
&lt;ul>
&lt;li>동일 클라이언트로부터 과도한 연결요청 DROP&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SYN쿠키 기법
&lt;ul>
&lt;li>요청이 들어오면 SYN쿠키만 보내놓고 세션을 닫음&lt;/li>
&lt;li>공격자의 계속적인 SYN Flooding을 막는 방법&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>TCP 연결테이블 엔트리 선택적 삭제
&lt;ul>
&lt;li>테이블 오버플로우 발생 시 일부 삭제&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>연결테이블 확장&lt;/li>
&lt;/ul>
&lt;h3 id="smurf-attack">SMURF Attack&lt;/h3>
&lt;p>IP 위장과 ICMP의 특징을 이용한 광범위한 DoS 공격&lt;/p>
&lt;h4 id="공격-방법-1">공격 방법&lt;/h4>
&lt;ul>
&lt;li>공격자는 IP를 공격대상 &lt;code>서버의 IP주소&lt;/code>로 위장, &lt;code>ICMP&lt;/code>를 broadcast로 다수의 시스템에 전송&lt;/li>
&lt;li>ICMP broadcast를 수신한 다수의 시스템은 &lt;code>ICMP Echo 패킷&lt;/code>을 공격대상 &lt;code>서버로 전송&lt;/code>하게 됨&lt;/li>
&lt;li>다수의 ICMP Echo를 수신한 공격대상 서버는 시스템 성능에 문제가 생기게 됨&lt;/li>
&lt;/ul>
&lt;h4 id="보안-대책-1">보안 대책&lt;/h4>
&lt;ul>
&lt;li>라우터에서 다른 네트워크에서 자신의 네트워크로 들어오는 &lt;code>IP directed broadcast 패킷&lt;/code>을 막도록 설정&lt;/li>
&lt;li>호스트는 &lt;code>IP broadcast address&lt;/code>로 전송된 ICMP 패킷에 대해 응답하지 않도록 함&lt;/li>
&lt;li>&lt;code>침입탐지 시스템&lt;/code>(IPS)를 통해서 패킷 모두 DROP&lt;/li>
&lt;/ul>
&lt;h3 id="land-attack">Land Attack&lt;/h3>
&lt;p>패킷 전송 시 &lt;code>출발지 IP 주소&lt;/code>와 &lt;code>목적지 IP 주소 값&lt;/code>을 똑같이 만들어서 공격 대상에 보내는 기법&lt;/p>
&lt;h4 id="보안-대책-2">보안 대책&lt;/h4>
&lt;ul>
&lt;li>출발지 주소가 &lt;code>내부 IP&lt;/code>인 패킷을 차단&lt;/li>
&lt;li>자신의 시스템 주소와 동일한 출발지 주소를 가진 외부 패킷을 필터링&lt;/li>
&lt;/ul>
&lt;h3 id="ping-of-death">Ping of Death&lt;/h3>
&lt;p>ping을 이용하여 &lt;code>ICMP 패킷&lt;/code>을 정상 크기(65,535bytes)보다 &lt;code>아주 크게&lt;/code> 만들어 전송&lt;/p>
&lt;ul>
&lt;li>라우팅되어 공격대상자에게 전송되는 동안 많은 &lt;code>Fragment&lt;/code>로 쪼개서 전송됨&lt;/li>
&lt;li>공격 대상은 조각화된 패킷을 모두 처리해야 하므로 부하가 발생&lt;/li>
&lt;/ul>
&lt;h4 id="보안-대책-3">보안 대책&lt;/h4>
&lt;ul>
&lt;li>OS 패치&lt;/li>
&lt;li>방화벽에서 ICMP 차단&lt;/li>
&lt;/ul>
&lt;h3 id="teardrop-attack">Teardrop Attack&lt;/h3>
&lt;p>IP 단편화시 &lt;code>오프셋 값&lt;/code>을 고의적으로 &lt;code>중복&lt;/code>되도록 설정하거나 범위를 넘어서는 &lt;code>오버플로우&lt;/code>를 일으켜 시스템 기능을 마비시킴&lt;/p>
&lt;blockquote>
&lt;p>패킷을 전송할 때 IP 단편화(fragmentation)를 진행하고, 수신자는 재조립을 통해 단편화된 데이터를 복구하는데 이 과정에서 정확한 조립을 위해 &lt;code>오프셋 값&lt;/code>을 사용한다.&lt;/p>
&lt;/blockquote>
&lt;h4 id="보안-대책-4">보안 대책&lt;/h4>
&lt;ul>
&lt;li>침입차단시스템(IPS), 방화벽&lt;/li>
&lt;li>OS 패치&lt;/li>
&lt;/ul>
&lt;h3 id="inconsistent-fragmentation-attack">Inconsistent Fragmentation Attack&lt;/h3>
&lt;ul>
&lt;li>Bonk: 패킷을 fragment(조각화)하여 전송할 때 &lt;code>순서번호&lt;/code>를 모두 &lt;code>1번&lt;/code>으로 조작하여 전송&lt;/li>
&lt;li>Boink: 패킷 &lt;code>순서번호&lt;/code>를 &lt;code>비정상적인 상태&lt;/code>로 보내는 공격&lt;/li>
&lt;/ul>
&lt;h2 id="분산-서비스-거부-공격ddos">분산 서비스 거부 공격(DDos)&lt;/h2>
&lt;p>여러 대의 컴퓨터(&lt;code>좀비 PC&lt;/code>)로 엄청난 분량의 패킷을 동시에 전송하여 네트워크 성능 저하나 시스템 마비를 유발&lt;/p>
&lt;h3 id="구성-요소">구성 요소&lt;/h3>
&lt;ul>
&lt;li>공격자(봇 마스터): 공격을 주도하는 해커의 컴퓨터&lt;/li>
&lt;li>마스터(C&amp;amp;C 서버): 공격자에게 직접 명령을 받은 시스템
&lt;ul>
&lt;li>여러 에이전트를 관리&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>에이전트(좀비): 공격 대상에 직접적인 공격을 가하는 시스템&lt;/li>
&lt;li>데몬 프로그램: 에이전트 역할을 수행&lt;/li>
&lt;/ul>
&lt;h3 id="대응-절차">대응 절차&lt;/h3>
&lt;h4 id="공격의-인지">공격의 인지&lt;/h4>
&lt;ul>
&lt;li>유입 트래픽 크기
&lt;ul>
&lt;li>IDS, 방화벽 등 사용&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>웹 서버 로그&lt;/li>
&lt;li>동시접속 정보&lt;/li>
&lt;li>유입 트래픽 샘플링&lt;/li>
&lt;/ul>
&lt;h4 id="공격-유형-파악">공격 유형 파악&lt;/h4>
&lt;ul>
&lt;li>패킷 덤프를 이용한 트래픽 확보&lt;/li>
&lt;li>확보된 트래픽 분석&lt;/li>
&lt;li>시나리오 기반의 공격유형 파악&lt;/li>
&lt;li>웹서버 접속 로그&lt;/li>
&lt;/ul>
&lt;h4 id="유형에-따른-차단정책">유형에 따른 차단정책&lt;/h4>
&lt;p>&lt;strong>대역폭 소진 공격 대응 방안&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>공격 유형: UDP Flooding, ICMP Flooding
&lt;ul>
&lt;li>방화벽이나 웹서버 상단의 라우터 해당 프로토콜을 차단하는 ACL 정책 적용&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>공격 유형: TCP Flooding
&lt;ul>
&lt;li>프로토콜로 기준으로 차단하는 것에 한계가 있음&lt;/li>
&lt;li>Source IP별 PPS 임계치 설정&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>웹서버 자원 소모 대응 방안&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>공격 유형: SYN Flooding
&lt;ul>
&lt;li>Source IP별 PPS 임계치 설정&lt;/li>
&lt;li>패킷 헤더 검사를 통한 비정상적인 옵션 필드 가진 패킷 차단&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>공격 유형: Slow Header Flooding, Slow Data Flooding
&lt;ul>
&lt;li>완료되지 않은 연결 상태 유지&lt;/li>
&lt;li>요청에 대한 타임아웃 설정&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>DB 커넥션 부하 유발 대응 방안&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>공격 유형: Get Flooding, Post Flooding
&lt;ul>
&lt;li>다량의 HTTP 요청으로 웹서버와 DB연동에 부하&lt;/li>
&lt;li>클라이언트 요청 수에 대한 임계치 초과하는 IP 차단&lt;/li>
&lt;li>HTTP 표준에 맞지 않는 필드값을 차단 시그니처로 설정&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="사후-조치">사후 조치&lt;/h4>
&lt;ul>
&lt;li>정책 업데이트&lt;/li>
&lt;li>좀비 PC IP 확보&lt;/li>
&lt;/ul>
&lt;h3 id="공격-사례">공격 사례&lt;/h3>
&lt;ul>
&lt;li>트리누(Trinoo) 공격
&lt;ul>
&lt;li>&lt;code>UDP Flood&lt;/code> 서비스 공격을 유발&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>TFN(Tribed Flood Network) 공격
&lt;ul>
&lt;li>트리누의 발전형&lt;/li>
&lt;li>UDP Flood 외 다양한 공격(TCP SYN Flood, smurf 공격) 가능&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Stacheldraht 공격
&lt;ul>
&lt;li>마스터 시스템 및 에이전트 데몬과의 사이 &lt;code>암호화 통신&lt;/code>(TELNETC)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>TFN2K 공격
&lt;ul>
&lt;li>TFN의 발전된 형태. 통신에 특정 포트가 사용되지 않고 암호화&lt;/li>
&lt;li>조금 더 &lt;code>다양한 OS&lt;/code>에서 사용 가능&lt;/li>
&lt;li>UDP, TCP, ICMP가 복합적으로 사용&lt;/li>
&lt;li>지정한 TCP 포트에 백도어 실행 가능&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="공격-유형">공격 유형&lt;/h3>
&lt;h4 id="http-traffic-flooding-공격">HTTP Traffic Flooding 공격&lt;/h4>
&lt;ul>
&lt;li>GET Flooding
&lt;ul>
&lt;li>TCP 3-way handshaking 과정을 통해 정상 접속&lt;/li>
&lt;li>특정 페이지를 HTTP의 &lt;code>GET Method&lt;/code>를 통해 &lt;code>무한대&lt;/code>로 실행&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Cache Control Attack (CC Attack)
&lt;ul>
&lt;li>HTTP 메시지의 &lt;code>캐시 옵션&lt;/code>을 조작&lt;/li>
&lt;li>캐싱서버가 아닌 웹서버가 메시지를 처리하도록 하여 &lt;code>웹서버의 자원 소진&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>동적 HTTP Request Flooding 공격
&lt;ul>
&lt;li>&lt;code>웹 방화벽 차단 기법을 우회&lt;/code>하기 위해 지속적으로 &lt;code>요청 페이지를 변경&lt;/code>하여 웹페이지를 요청&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="http-headeroption-spoofing-flooding-공격">HTTP Header/Option Spoofing Flooding 공격&lt;/h4>
&lt;ul>
&lt;li>Slow HTTP POST DoS
&lt;ul>
&lt;li>POST 지시자를 통해서 서버에 전송할 다량의 데이터를 &lt;code>장시간&lt;/code>에 걸쳐 분할전송&lt;/li>
&lt;li>서버는 POST 데이터를 모두 수신하지 않았다고 판단하여 연결을 장시간 유지&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Slow HTTP Header DoS(Slowloris)
&lt;ul>
&lt;li>&lt;code>헤더 정보&lt;/code>를 조작하여 &lt;code>구분할 수 없게&lt;/code> 만듬&lt;/li>
&lt;li>헤더 정보 수신을 위해 서버는 장시간 연결 유지&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Slow HTTP Read DoS
&lt;ul>
&lt;li>&lt;code>TCP 윈도우 크기&lt;/code> 및 &lt;code>데이터 처리율&lt;/code>을 감소시킨 후 HTTP 데이터를 송신&lt;/li>
&lt;li>웹서버가 정상적으로 응답하지 못하도록 DoS 상태&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="hulkhttp-unbearable-load-king-dos">HULK(Http Unbearable Load King) DoS&lt;/h4>
&lt;p>웹서버의 &lt;code>가용량&lt;/code>(최대 접속 가능 클라이언트 수)을 모두 사용하도록 하여 정상적인 서비스가 불가능하도록 유도&lt;/p>
&lt;blockquote>
&lt;p>GET Flooding 공격 중 하나&lt;/p>
&lt;/blockquote>
&lt;h4 id="sipsession-initiation-protocol-flood">SIP(Session Initiation Protocol) Flood&lt;/h4>
&lt;ul>
&lt;li>하나의 &lt;code>INVITE request&lt;/code> 메시지가 상당한 양의 자원을 소모하게 한다는 것을 이용&lt;/li>
&lt;li>수많은 INVITE request를 &lt;code>위조된 시작주소&lt;/code>에 넣어 전송하는 공격&lt;/li>
&lt;li>&lt;code>SIP Proxy&lt;/code> 서버에 부하&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>SIP: VoIP 전화 연결에 많이 사용하는 프로토콜&lt;/p>
&lt;/blockquote>
&lt;h2 id="분산-반사-서비스-거부-공격drdos">분산 반사 서비스 거부 공격(DRDoS)&lt;/h2>
&lt;p>별도의 에이전트 설치 없이 &lt;code>프로토콜 구조의 취약점&lt;/code>을 이용해 정상적인 서비스를 운영하는 시스템을 에이전트로 활용하여 공격&lt;/p>
&lt;ul>
&lt;li>DNS 증폭 DRDoS 공격
&lt;ul>
&lt;li>많은 양의 레코드 정보를 요구하는 DNS 질의 타입을 요청&lt;/li>
&lt;li>공격 대상에게 대량의 트래픽을 유발시킴&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>NTP 증폭 DRDoS 공격
&lt;ul>
&lt;li>최근 접속한 클라이언트 목록(monlist 명령)을 요청&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SNMP 증폭 DRDoS 공격
&lt;ul>
&lt;li>MIB와 같은 정보를 대량 요청&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>CHARGEN 증폭 DRDoS 공격
&lt;ul>
&lt;li>대량의 문자열 전송&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="위협-요소">위협 요소&lt;/h3>
&lt;ul>
&lt;li>패킷이 전송되는 &lt;code>경로가 무수히 많음&lt;/code>&lt;/li>
&lt;li>반사 서버의 단계적 사용 및 확산
&lt;ul>
&lt;li>&lt;code>공격 경로&lt;/code>를 &lt;code>끊임없이 변경&lt;/code> 가능&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>공격대상 IP를 출발지 IP로 위조하여 전송
&lt;ul>
&lt;li>역추적 어려움&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="대응-방안">대응 방안&lt;/h3>
&lt;ul>
&lt;li>네트워크에서의 대응
&lt;ul>
&lt;li>IP 주소가 &lt;code>위조된 패킷&lt;/code>이 인터넷망으로 들어오지 않도록 &lt;code>ISP가 직접 차단&lt;/code>(Ingress Filtering)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>반사서버에서의 대응
&lt;ul>
&lt;li>&lt;code>ICMP 프로토콜&lt;/code>이 필요 없는 시스템인 경우 해당 프로토콜을 &lt;code>차단&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>공격대상에서의 대응
&lt;ul>
&lt;li>내부 사용자용 DNS 서버인 경우 내부 사용자 주소만 &lt;code>Recursive Query&lt;/code>가 가능하도록 제한&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Til: Network Scanning</title><link>http://Jeonghun-Ban.github.io/til/security/network/network-scanning/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/network-scanning/</guid><description>
&lt;p>사이버 공격을 위한 정보 수집은 &lt;code>풋 프린팅&lt;/code>, &lt;code>스캐닝&lt;/code>, &lt;code>목록화&lt;/code> 과정을 거친다.&lt;/p>
&lt;h2 id="풋-프린팅">풋 프린팅&lt;/h2>
&lt;p>공격자가 공격 전 다양한 &lt;code>정보 수집&lt;/code>을 하는 단계&lt;/p>
&lt;ul>
&lt;li>&lt;code>사회공학 기법&lt;/code>이 주로 사용&lt;/li>
&lt;li>IP블록, 이름 및 계정정보, 전화번호 등 수집&lt;/li>
&lt;/ul>
&lt;h2 id="스캐닝">스캐닝&lt;/h2>
&lt;p>실제 &lt;code>공격방법 결정&lt;/code> 또는 공격에 이용될 수 있는 네트워크 구조, 시스템이 제공하는 서비스 &lt;code>정보를 얻음&lt;/code>&lt;/p>
&lt;h3 id="sweep">Sweep&lt;/h3>
&lt;ul>
&lt;li>네트워크에 속해 있는 시스템 유무 판단&lt;/li>
&lt;li>목표 네트워크의 IP 주소와 네트워크 범위를 알아내는 기법&lt;/li>
&lt;/ul>
&lt;h3 id="open-scan">Open Scan&lt;/h3>
&lt;p>시스템 활성화 여부 및 서비스의 활성화 여부를 조사&lt;/p>
&lt;ul>
&lt;li>TCP Full Open Scan(=TCP SYN/ACK Scan)
&lt;ul>
&lt;li>&lt;code>완전한 TCP 연결&lt;/code>을 맺어서 신뢰성 있는 결과를 얻을 수 있음&lt;/li>
&lt;li>다만 속도가 느리고 &lt;code>로그를 남김&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>TCP Half Open Scan(=TCP SYN Scan)
&lt;ul>
&lt;li>세션을 완전히 연결하지 않고 포트의 활성화 여부를 판단&lt;/li>
&lt;li>포트가 열려있는 경우
&lt;ul>
&lt;li>SYN/ACK 패킷을 받으면 그 &lt;code>즉시 RST 패킷&lt;/code>을 보내 연결을 끊음&lt;/li>
&lt;li>로그를 남기지는 않지만 &lt;code>세그먼트(SYN) 전송기록&lt;/code>은 남음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>UDP Scan
&lt;ul>
&lt;li>아무런 응답이 없으면 해당 포트의 활성화를 의미&lt;/li>
&lt;li>&lt;code>ICMP Unreachable&lt;/code> 패킷을 받으면 해당 &lt;code>포트의 비활성화&lt;/code>를 의미&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="stealth-scan">Stealth Scan&lt;/h3>
&lt;p>TCP 헤더를 조작하여 &lt;code>특수한 패킷&lt;/code>을 생성하여 보낸 후 그 응답으로 포트 활성화 파악&lt;/p>
&lt;blockquote>
&lt;p>세션을 완전히 연결하지 않으므로 &lt;code>로그가 남지 않음&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>TCP FIN Scan
&lt;ul>
&lt;li>TCP 헤더 내에 FIN 플래그를 설정하여 전송&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>TCP NULL Scan
&lt;ul>
&lt;li>TCP 헤더 내에 플래그 값을 설정하지 않고 전송&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>TCP XMAS Scan
&lt;ul>
&lt;li>TCP 헤더 내에 모든 플래그를 설정하여 전송&lt;/li>
&lt;li>포트가 열려있을 경우 &lt;code>응답없음&lt;/code>, 포트가 닫힌 경우 &lt;code>RST&lt;/code> 수신&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>TCP ACK-Scan
&lt;ul>
&lt;li>TCP 헤더 내에 ACK 플래그를 설정하여 전송&lt;/li>
&lt;li>방화벽의 필터링 정책을 테스트
&lt;ul>
&lt;li>Stateful 방화벽인가&lt;/li>
&lt;li>대상 포트가 방화벽에 의해 필터링되는가&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>필터링이 되는 경우 응답이 없거나 &lt;code>ICMP 메시지&lt;/code>를 수신&lt;/li>
&lt;li>필터링 되지 않으면 &lt;code>RST+ACK&lt;/code>를 수신&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="nmapnetwork-mapper">NMap(Network Mapper)&lt;/h3>
&lt;p>OS의 종류 및 사용 서비스에 대한 정보, FTP 서버의 취약점을 이용한 &lt;code>bounce 공격&lt;/code> 수행 가능한 스캔 도구&lt;/p>
&lt;ul>
&lt;li>모든 운영체제에서 사용 가능&lt;/li>
&lt;li>오픈소스로 사용자가 기능 추가 가능&lt;/li>
&lt;/ul>
&lt;h4 id="문법">문법&lt;/h4>
&lt;pre>&lt;code>nmap [scan_type] [port_option] [target]
&lt;/code>&lt;/pre>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>속성&lt;/th>
&lt;th>설명&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>-sS&lt;/td>
&lt;td>TCP SYN(Half-open) Scan&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-sF&lt;/td>
&lt;td>TCP FIN Scan&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-v&lt;/td>
&lt;td>자세하게 출력&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-O&lt;/td>
&lt;td>대상 호스트의 OS 정보를 출력&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-T&lt;/td>
&lt;td>NMap 속도 지정 (0 : 느림 ~ 5 : 빠름)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>-f&lt;/td>
&lt;td>스캔 시 F/W을 통과할 수 있도록 패킷을 분할&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="운영체제-탐지">운영체제 탐지&lt;/h3>
&lt;h4 id="배너-그래빙banner-grabbing">배너 그래빙(banner grabbing)&lt;/h4>
&lt;ul>
&lt;li>상대 시스템의 OS를 확인하는 가장 기본적인 방법&lt;/li>
&lt;li>banner는 원격지 시스템에 로그인하면 뜨는 안내문과 비슷한 것&lt;/li>
&lt;/ul>
&lt;h4 id="tcpip">TCP/IP&lt;/h4>
&lt;ul>
&lt;li>OS마다 &lt;code>TCP/IP에 대한 반응&lt;/code>이 다르기 때문에 반응에 따라 OS를 추측 가능&lt;/li>
&lt;li>FIN Scan은 모든 OS에 적용되지 않기 때문에 FIN Scan을 이용해 OS를 추측 가능&lt;/li>
&lt;li>세션 연결 후 TCP 패킷의 &lt;code>Sequence Number(순서 번호)&lt;/code> 생성을 관찰
&lt;ul>
&lt;li>윈도우 계열은 &lt;code>시간&lt;/code>에 따른 순서 번호를 생성&lt;/li>
&lt;li>리눅스 계열은 &lt;code>Random&lt;/code>으로 생성&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="목록화">목록화&lt;/h2>
&lt;p>풋 프린팅, 스캐닝 작업을 통해 얻은 정보를 실제 공격에 사용할 수 있도록 목록화&lt;/p>
&lt;ul>
&lt;li>공유 자원 목록화&lt;/li>
&lt;li>사용자 및 그룹 목록화&lt;/li>
&lt;li>응용프로그램 목록화&lt;/li>
&lt;/ul></description></item><item><title>Til: Sniffing/Spoofing</title><link>http://Jeonghun-Ban.github.io/til/security/network/sniffing-and-spoofing/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/sniffing-and-spoofing/</guid><description>
&lt;h2 id="스니핑">스니핑&lt;/h2>
&lt;p>네트워크 상에서 자신이 아닌 다른 상대방의 패킷 교환을 엿듣는 행위&lt;/p>
&lt;blockquote>
&lt;p>TCP/IP 프로토콜을 이용한 통신에서 통신매체를 통과하는 패킷이 암호화되어 있지 않으므로 스니핑하여 메시지 내용을 보는 것이 가능하다.&lt;/p>
&lt;/blockquote>
&lt;h3 id="허브-환경">허브 환경&lt;/h3>
&lt;p>허브는 들어오는 패킷에 대해 들어온 포트를 제외한 모든 포트에 패킷을 보내는 장비인데 다른 사람의 패킷 또한 여기를 지나가기 때문에 스니핑이 가능하다.&lt;/p>
&lt;ul>
&lt;li>기본적으로 패킷은 필터링을 통해 자신의 것만 볼 수 있음&lt;/li>
&lt;li>시스템의 NIC를 &lt;code>promiscuous(무차별 모드)&lt;/code>로 동작시키면 다른 패킷도 볼 수 있음&lt;/li>
&lt;/ul>
&lt;h3 id="스위치-환경">스위치 환경&lt;/h3>
&lt;h4 id="스위치-재밍">스위치 재밍&lt;/h4>
&lt;p>스위치의 MAC 주소 테이블 버퍼를 &lt;code>오버플로우&lt;/code> 시켜서 스위치를 &lt;code>허브처럼 동작&lt;/code>하게 만드는 기법&lt;/p>
&lt;ul>
&lt;li>스위치는 Fail Open을 따르는 장비이므로 문제가 생기면 허브로 동작
&lt;ul>
&lt;li>Fail Open: Fail Safe 정책, 장애발생시 모든 트래픽 허용(가용성&amp;gt;보안성)&lt;/li>
&lt;li>Fail Close: Fail Secure 정책, 장애발생시 모든 트래픽 차단(가용성&amp;lt;보안성)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="arp-리다이렉트">ARP 리다이렉트&lt;/h4>
&lt;p>공격자가 자신이 &lt;code>라우터인 것처럼&lt;/code> MAC 주소를 위조하여 ARP Reply 패킷을 해당 네트워크에
broadcast 하여 해당 로컬 &lt;code>네트워크의 모든 호스트&lt;/code>와 라우터 사이의 &lt;code>트래픽을 스니핑&lt;/code>하는 기법&lt;/p>
&lt;h4 id="icmp-리다이렉트">ICMP 리다이렉트&lt;/h4>
&lt;p>3계층에서 스니핑 시스템을 N/W에 존재하는 또 다른 라우터라고 알려 &lt;code>패킷의 흐름&lt;/code>을 바꾸는 공격&lt;/p>
&lt;blockquote>
&lt;p>ICMP 리다이렉트: N/W에서 하나의 라우터/게이트웨이로 감당이 되지 않는 경우 2개 이상으로 운영(로드밸런싱)&lt;/p>
&lt;/blockquote>
&lt;h4 id="스위치의-span--port-mirroring">스위치의 SPAN / port Mirroring&lt;/h4>
&lt;p>스위치 특정 포트에 &lt;code>분석 장비&lt;/code>를 접속하여 다른 포트의 트래픽을 분석하는 기술&lt;/p>
&lt;ul>
&lt;li>본래는 관리 목적으로 사용&lt;/li>
&lt;li>공격자가 물리적 접근시 손쉽게 패킷 스니핑 가능&lt;/li>
&lt;/ul>
&lt;h3 id="보안-대책">보안 대책&lt;/h3>
&lt;h4 id="수동적인-대응-방법">수동적인 대응 방법&lt;/h4>
&lt;p>스니핑되더라도 해당 내용이 노출되지 않도록 통신내용을 &lt;code>암호화&lt;/code>하는 방법&lt;/p>
&lt;h4 id="능동적인-대응-방법스니퍼-탐지">능동적인 대응 방법(스니퍼 탐지)&lt;/h4>
&lt;ul>
&lt;li>ping을 이용한 방법
&lt;ul>
&lt;li>네트워크에 존재하지 않는 MAC 주소로 위장하여 ping을 보냄&lt;/li>
&lt;li>만약 스니퍼가 존재하면 &lt;code>ICMP Echo Reply&lt;/code>를 송신하는데 이를 통해 탐지&lt;/li>
&lt;li>스니퍼가 아니면 &lt;code>ICMP Echo Request&lt;/code>를 볼 수 없음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ARP watch
&lt;ul>
&lt;li>초기의 MAC 주소와 IP 주소의 매칭 값을 저장&lt;/li>
&lt;li>ARP 트래픽을 모니터링하여 이를 변경하는 패킷이 있으면 관리자에게 알려주는 툴&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>스니퍼는 패킷 또는 LAN 세그먼트 상을 지나는 트래픽을 분석할 수 있는 S/W나 H/W로 유입 패킷에 대한 IP 주소와 MAC 주소 필터링을 하지 않는 &lt;code>promiscuous 모드&lt;/code>에서 작동한다.&lt;/p>
&lt;/blockquote>
&lt;h2 id="스푸핑">스푸핑&lt;/h2>
&lt;p>IP 주소, MAC 주소 등을 속여 정보를 가로채거나 속이는 기법&lt;/p>
&lt;h3 id="arp-스푸핑">ARP 스푸핑&lt;/h3>
&lt;p>공격자는 공격 대상 A, B에게 상대 IP에 해당하는 MAC 주소를 자신의 MAC 주소라고 속여 ARP 패킷을 보내 A,B간에 통신할 때 &lt;code>공격자를 거치도록&lt;/code> 하는 공격&lt;/p>
&lt;ul>
&lt;li>ARP Cache는 자주 폐기되므로 공격자는 캐시를 갱신해주어야 한다. (ARP Cache Poisoning)&lt;/li>
&lt;/ul>
&lt;h4 id="보안-대책-1">보안 대책&lt;/h4>
&lt;ul>
&lt;li>&lt;code>ARP -s&lt;/code> 명령어를 통해 정적으로 ARP 테이블을 설정&lt;/li>
&lt;/ul>
&lt;h3 id="ip-스푸핑">IP 스푸핑&lt;/h3>
&lt;p>공격자가 자신의 IP 주소가 아닌 신뢰관계를 가진 시스템의 주소로 위장하여 공격대상 서버로부터 정보를 가로채는 공격&lt;/p>
&lt;h4 id="공격-절차">공격 절차&lt;/h4>
&lt;ul>
&lt;li>클라이언트에게 DoS 공격&lt;/li>
&lt;li>공격자는 클라이언트로 위장하여 서버에 접속&lt;/li>
&lt;/ul>
&lt;h4 id="보안-대책-2">보안 대책&lt;/h4>
&lt;ul>
&lt;li>출발지 IP주소에 내부망 IP주소를 가지고 있는 패킷을 차단&lt;/li>
&lt;li>트러스트 차단&lt;/li>
&lt;li>트러스트된 시스템의 MAC주소를 static 지정&lt;/li>
&lt;li>rlogin 대신 ssh를 사용&lt;/li>
&lt;/ul></description></item><item><title>Til: IDS/IPS</title><link>http://Jeonghun-Ban.github.io/til/security/network/ids-and-ips/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/ids-and-ips/</guid><description>
&lt;h2 id="ids침입탐지-시스템">IDS(침입탐지 시스템)&lt;/h2>
&lt;p>외부 침입에 대한 정보를 수집하고 분석하여 침입 활동을 탐지해 이에 대응하도록 보안 담당자에게 통보하는 기능을 수행하는 네트워크 보안시스템&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->해킹에 대해 방화벽보다 적극적 방어 가능&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->내부 사용자의 오ㆍ남용 탐지 및 방어 가능&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->해킹사고 발생시 어느정도 근원지 추적 가능&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->대규모 N/W에서 사용 곤란&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->관리 및 운영 어려움&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->새로운 침입기법에 대해 즉각적 대응 곤란&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->보안사고의 근본적 해결책이 되지 못함&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="실행-단계">실행 단계&lt;/h3>
&lt;ul>
&lt;li>데이터 수집
&lt;ul>
&lt;li>탐지대상(시스템 사용내역, 패킷)으로부터 생성되는 데이터 수집&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>데이터 가공 및 축약
&lt;ul>
&lt;li>수집된 데이터를 침입 판정이 가능하도록 &lt;code>의미있는 정보&lt;/code>로 전환&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>침입분석 및 탐지
&lt;ul>
&lt;li>비정상적 행위 탐지 기법, 오용 탐지 기법, 하이브리드 탐지 기법&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>보고 및 대응
&lt;ul>
&lt;li>시스템을 침입했다고 판정된 경우 적절한 &lt;code>대응&lt;/code>을 하거나 관리자에게 &lt;code>침입사실 보고&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="지식기반-침입탐지">지식기반 침입탐지&lt;/h3>
&lt;ul>
&lt;li>&lt;code>규칙기반&lt;/code>, &lt;code>오용 침입탐지&lt;/code>라고도 함&lt;/li>
&lt;li>기존의 침입방법을 DB에 저장해두었다가 사용자의 &lt;code>행위 패턴&lt;/code>이 기존 침입 패턴과 일치하거나 유사한 경우 침입으로 판단&lt;/li>
&lt;li>새로운 공격이나 침입 방법 출현시 그에 맞는 공격패턴 생성하여 추가&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->오탐률(False Positive) 낮음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->전문가 시스템(추론기반 지식 베이스) 이용&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->트로이 목마, 백도어 탐지&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->지속적인 공격패턴 갱신 필요&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->속도 문제 때문에 대량의 자료 분석에 부적합&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="종류">종류&lt;/h4>
&lt;ul>
&lt;li>전문가 시스템
&lt;ul>
&lt;li>침입 또는 오용의 패턴을 실시간으로 입력되는 &lt;code>감사정보와 비교&lt;/code>하여 침입을 탐지&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>상태전이 모델
&lt;ul>
&lt;li>공격 패턴에 따라 시스템의 상태 변화를 미리 &lt;code>상태전이도&lt;/code>로 표현 후 실시간으로 시스템의 상태 변화를 추적하여 침입상태를 감시&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>패턴 매칭
&lt;ul>
&lt;li>알려진 공격 패턴을 &lt;code>시나리오&lt;/code> 형태로 DB에 저장한 후 발생하는 사건의 패턴을 비교&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="행위기반-침입탐지">행위기반 침입탐지&lt;/h3>
&lt;ul>
&lt;li>&lt;code>통계적 변형&lt;/code>, &lt;code>비정상행위 침입탐지&lt;/code>라고도 함&lt;/li>
&lt;li>정상적 행위에 대한 정의들과 비교해 심각한 수준의 일탈행위를 식별하는 방식&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->&lt;code>인공지능&lt;/code> 알고리즘 사용으로 수작업의 패턴 업데이트 불필요&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->오용 탐지 기법보다 DB관리가 용이&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->트로이 목마, 백도어 탐지&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;code>알려지지 않은 공격&lt;/code>(Zero-Day Attack)도 탐지 가능&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->침입 외 시스템 운용상 문제점도 탐지&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->오탐률(False Positive) 높음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->정상/비정상 &lt;code>임계치&lt;/code> 설정 어려움&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="종류-1">종류&lt;/h4>
&lt;ul>
&lt;li>통계적 분석
&lt;ul>
&lt;li>사용자/시스템 행위의 이전 정보를 기반으로 정상행위를 주기적으로 갱신&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>예측가능한 패턴 생성방법
&lt;ul>
&lt;li>기존의 정상적인 패턴과 현재 사건 간의 &lt;code>패턴&lt;/code>을 비교하여 탐지&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>신경망 모델
&lt;ul>
&lt;li>사용자의 행위 정보를 &lt;code>학습&lt;/code>하여, 입력된 사건 정보를 사용자의 행위 정보와 비교하여 탐지&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="대응방법에-따른-분류">대응방법에 따른 분류&lt;/h3>
&lt;ul>
&lt;li>능동적 대응
&lt;ul>
&lt;li>침입에 대해 가장 빨리 실행할 수 있는 행동으로 침입에 의한 손실을 줄일 수 있게 함&lt;/li>
&lt;li>하지만 &lt;code>오경보&lt;/code>를 많이 발생시켜 시스템의 가용성을 저하시킬 수 있음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>수동적 대응
&lt;ul>
&lt;li>대량의 정보를 수집하는 형태를 취하거나 권한을 가진 사용자에게 엄격한 조치를 취할수 있도록 통보하는 형태&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="데이터-수집원에-따른-분류">데이터 수집원에 따른 분류&lt;/h3>
&lt;h4 id="nidsnetwork-based-ids">NIDS(Network-based IDS)&lt;/h4>
&lt;p>네트워크를 통해 전송되는 &lt;code>패킷 정보&lt;/code>를 수집/분석하여 침입을 방지&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->초기 구축비용이 저렴&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->OS에게 독립적이어서 구현/관리 쉬움&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->공격자가 흔적을 제거하기 어려움&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->암호화된 패킷 분석 불가&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->스위칭 환경에서 HIDS보다 비용 높음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->고속 네트워크 환경에서 패킷 손실이 많아 탐지율이 떨어짐&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->호스트 상에서 수행되는 세부 행위 탐지 불가&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="hidshost-based-ids">HIDS(Host-based IDS)&lt;/h4>
&lt;p>호스트 시스템으로부터 생성되고 수집된 감사 자료로 침입을 방지&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->정확한 탐지 가능&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->암호화 및 스위칭 환경에 적합&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->추가적인 H/W가 필요하지 않음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->N-IDS, 방화벽과 달리 외부 침입자와 내부침입자 모두 발견&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->각각의 시스템에 설치해야 하므로 다양한 OS를 지원해야 함&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->시스템에 추가적인 부하&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->구현이 용이하지 않음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->로그 변조, 공격에 의한 무력화&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="탐지-시점에-따른-분류">탐지 시점에 따른 분류&lt;/h3>
&lt;ul>
&lt;li>사후분석 시스템
&lt;ul>
&lt;li>고전적인 IDS 방식&lt;/li>
&lt;li>수집된 데이터를 정해진 시간에만 분석&lt;/li>
&lt;li>즉시 대응 불가&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>실시간 탐지 시스템
&lt;ul>
&lt;li>실시간 정보수집과 동시에 감사 데이터 발생, 침입 탐지가 이루어짐&lt;/li>
&lt;li>대응책을 바로 실행&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="ids의-위치">IDS의 위치&lt;/h3>
&lt;p>IDS는 목적에 따라 여러 곳에 설치가 가능&lt;/p>
&lt;ul>
&lt;li>패킷이 라우터로 들어오기 전
&lt;ul>
&lt;li>N/W에 실행되는 모든 공격을 탐지 가능&lt;/li>
&lt;li>모든 공격을 탐지하는 만큼 많은 패킷을 수신하므로 &lt;code>치명적 공격에 대처 어려움&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>라우터 뒤
&lt;ul>
&lt;li>라우터의 &lt;code>패킷 필터링&lt;/code>을 거친 후에 들어온 패킷 검사&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>방화벽 뒤
&lt;ul>
&lt;li>네트워크에 직접 영향을 주므로 탐지되는 공격에 대한 &lt;code>정책과 방화벽과의 연동성&lt;/code>이 가장 중요&lt;/li>
&lt;li>만약 NIDS를 한 대만 설치해야할 경우 여기에 설치해야 함&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>내부 네트워크
&lt;ul>
&lt;li>방화벽은 외부에서 들어오는 패킷을 탐지하지만 내부는 무방비&lt;/li>
&lt;li>&lt;code>내부 N/W의 해킹을 감시&lt;/code>하고자 할 때 설치&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>DMZ
&lt;ul>
&lt;li>DMZ는 외부인터넷에 서비스를 제공하는 서버가 위치하는 N/W&lt;/li>
&lt;li>매우 능력이 뛰어난 외부 공격자와 내부 공격자에 의한 데이터 손실이나 서비스 중지를 막음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="ids의-응용">IDS의 응용&lt;/h2>
&lt;h3 id="긍정오류와-부정오류">긍정오류와 부정오류&lt;/h3>
&lt;p>침입자와 정상적인 사용자와의 행위 패턴이 겹치는 부분이 존재하므로 침입 탐지를 실제로 적용할 때는 절충과 기술의 요소가 적절히 사용되어야 함&lt;/p>
&lt;p>&lt;img src="images/2020-06-01-13-34-04.png" alt="긍정오류-부정오류">&lt;/p>
&lt;ul>
&lt;li>긍정오류: 합법적인 사용자를 침입자로 판단(침입자의 행동을 넓게 잡았을 경우)&lt;/li>
&lt;li>부정오류: 침입자를 합법적인 사용자로 판단(침입자의 행동을 좁게 잡았을 경우)&lt;/li>
&lt;/ul>
&lt;h3 id="허니팟">허니팟&lt;/h3>
&lt;p>자료를 가진 호스트인 것처럼하고 일부러 &lt;code>취약점을 만들어&lt;/code> 해커를 &lt;code>유인&lt;/code>하는 시스템&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->해커들의 행동이나 공격기법, 해킹목적을 분석&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->제로데이 공격을 사전에 탐지할 수 있는 예방통제 기술&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->잠재적 공격자에 대한 조기 경보 제공, 보안 전략의 결점 파악&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->자신에게 오는 패킷만 수집하므로 네트워크 전반에 대한 침입정보를 분석할 수 없음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->공격자가 알아차릴 경우 허니팟을 우회하거나 마비시키는 공격 가능&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="목적">목적&lt;/h4>
&lt;ul>
&lt;li>중요 시스템에 접근하는 공격자를 &lt;code>다른 방향&lt;/code>으로 돌림&lt;/li>
&lt;li>공격자의 &lt;code>동작 정보 수집&lt;/code>&lt;/li>
&lt;li>관리자가 반응할 수 있도록 공격자가 시스템에 충분히 오랜 시간 동안 머무르기를 유도&lt;/li>
&lt;/ul>
&lt;h3 id="스노트">스노트&lt;/h3>
&lt;p>일종의 IDS로 &lt;code>다양한 공격과 스캔 탐지&lt;/code> 가능&lt;/p>
&lt;ul>
&lt;li>실시간 트래픽 분석, 프로토콜 분석, 내용검색/매칭, 침입탐지 Rule에 의거하여 오버플로우, 포트스캔, CGI 공격, OS 확인 시도 등&lt;/li>
&lt;/ul>
&lt;h4 id="룰-헤더">룰 헤더&lt;/h4>
&lt;p>처리방식, 프로토콜, IP주소, 포트번호 등 처리할 패킷을 판단하는 기준 명시&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#75715e"># 룰 헤더 형식&lt;/span>
| action | protocol | IP 주소 | port | direction | IP 주소 | port |
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>action&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>옵션&lt;/th>
&lt;th>설명&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>alert&lt;/td>
&lt;td>alert를 발생시키고 로그를 남긴다&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>log&lt;/td>
&lt;td>패킷을 로그에 남긴다&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pass&lt;/td>
&lt;td>패킷을 무시한다&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>active&lt;/td>
&lt;td>alert 발생, dynamic rule 활성화&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dynamic&lt;/td>
&lt;td>active rule에 의해 활성화되고 log, rule과 동일하게 동작&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>drop&lt;/td>
&lt;td>패킷 차단 후 로그에 남긴다&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>reject&lt;/td>
&lt;td>패킷을 차단하고 로그에 남긴 후 TCP일 경우 TCP Reset 전송, UDP일 경우 ICMP port unreachable 전송&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sdrop&lt;/td>
&lt;td>패킷을 차단하지만 로그는 남기지 않음&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>protocol&lt;/strong>&lt;/p>
&lt;p>TCP, UDP, ICMP, IP 중 선택&lt;/p>
&lt;p>&lt;strong>IP Address&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>,&lt;/code>: 복수개 표현&lt;/li>
&lt;li>&lt;code>!&lt;/code>: 부정연산자&lt;/li>
&lt;li>&lt;code>any&lt;/code>: 모든주소&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Port&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>:숫자&lt;/code> = 숫자 포트 이하&lt;/li>
&lt;li>&lt;code>숫자:&lt;/code> 숫자 포트 이상&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Direction&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>-&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;&amp;gt;&lt;/code> : 출발지와 목적지를 오가는 모든 패킷&lt;/li>
&lt;/ul>
&lt;h4 id="룰-바디">룰 바디&lt;/h4>
&lt;p>alert 메시지나 패킷 메시지를 조사하기 위한 내용 기술&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>옵션&lt;/th>
&lt;th>설명&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>msg&lt;/td>
&lt;td>alert 로그 출력시 이벤트 명으로 사용&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>content&lt;/td>
&lt;td>패킷의 payload 내부 검색하는 문자열&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>offset&lt;/td>
&lt;td>content로 지정한 문자열의 검색 시작 오프셋&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>depth&lt;/td>
&lt;td>offset로부터 검사할 바이트 수 지정, 빠른 검색을 위해서는 사용을 권장&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sid&lt;/td>
&lt;td>룰 식별자&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>flow&lt;/td>
&lt;td>established : 통신이 established 된 패킷만 &lt;!-- raw HTML omitted --> stateless : 상태 상관없이, 비정상 무작위 공격 대비&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>rev&lt;/td>
&lt;td>rule 버전번호로 수정 횟수 표기&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="ips침입방지-시스템">IPS(침입방지 시스템)&lt;/h2>
&lt;p>다양한 보안기술로 침입이 일어나기 전에 &lt;code>실시간&lt;/code>으로 침입을 막음&lt;/p>
&lt;ul>
&lt;li>트래픽을 차단하기 위한 능동형 보안 솔루션&lt;/li>
&lt;li>취약점을 능동적으로 사전에 보완하며 웜이나 버퍼 오버플로우, 비정상적 트래픽, 제로데이 공격까지 차단&lt;/li>
&lt;/ul>
&lt;h3 id="필요성">필요성&lt;/h3>
&lt;ul>
&lt;li>방화벽이나 IDS만으로는 속도 때문에 해킹이나 바이러스, 웜에 대한 공격을 막기 어려움&lt;/li>
&lt;li>실시간 침입방지 시스템으로 OS단에서 실시간 방어와 탐지 기능 지원&lt;/li>
&lt;/ul>
&lt;h2 id="firewall-ids-ips-비교">Firewall, IDS, IPS 비교&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>구분&lt;/th>
&lt;th>Firewall&lt;/th>
&lt;th>IDS&lt;/th>
&lt;th>IPS&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>목적&lt;/td>
&lt;td>접근통제 및 인가&lt;/td>
&lt;td>침입여부 감지&lt;/td>
&lt;td>침입 이전의 방지&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>특징&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->수동적 차단&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->내부망 보호&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->로그ㆍsignature 기반의 패턴 매칭&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->정책ㆍ규칙기반 비정상 행위 탐지&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>패킷 차단&lt;/td>
&lt;td>O&lt;/td>
&lt;td>X&lt;/td>
&lt;td>O&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>패킷 내용분석&lt;/td>
&lt;td>X&lt;/td>
&lt;td>O&lt;/td>
&lt;td>O&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>오용 방지&lt;/td>
&lt;td>X&lt;/td>
&lt;td>O&lt;/td>
&lt;td>O&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>오용 차단&lt;/td>
&lt;td>X&lt;/td>
&lt;td>X&lt;/td>
&lt;td>O&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>이상 탐지&lt;/td>
&lt;td>X&lt;/td>
&lt;td>O&lt;/td>
&lt;td>O&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>이상 차단&lt;/td>
&lt;td>X&lt;/td>
&lt;td>X&lt;/td>
&lt;td>O&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>장점&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->엄격한 접근통제&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->인가된 트래픽만 허용&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->실시간 탐지&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->사후분석 대응기술&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->실시간 즉각 대응&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->세션 기반 탐지 가능&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>단점&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->내부공격에 취약&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->네트워크 병목현상&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->변형 패턴에 대해서는 탐지 어려움&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->오탐 현상 발생 가능&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->장비 고가&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Til: Firewall</title><link>http://Jeonghun-Ban.github.io/til/security/network/firewall/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/firewall/</guid><description>
&lt;p>사설 네트워크를 외부로부터 보호하기 위해 공중 네트워크와 사설 네트워크 사이에 설치된 일종의 벽&lt;/p>
&lt;ul>
&lt;li>보안정책에 따라 인가된 N/W 서비스에 대한 접근 허용, 인가되지 않은 트래픽 차단
&lt;ul>
&lt;li>Deny All: 모든 트래픽을 차단하고 허용해야 할 트래픽만 선별적 허용(가용성&amp;lt;보안성)&lt;/li>
&lt;li>Permit All: 모든 트래픽을 허용하고 차단해야 할 트래픽만 선별적 차단(가용성&amp;gt;보안성)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>접근통제목록&lt;/code>(ACL, Access Control List)에 따라 보안정책 설정&lt;/li>
&lt;li>서비스 제어, 방향 제어, 사용자 제어, 행위 제어 수행&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->취약한 서비스 보호&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->호스트 시스템 접근제어 기능&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->로그와 통계자료 유지&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->내부 네트워크에 대한 일괄적인 보안 정책 적용 가능&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->제한된 서비스 &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->우회 트래픽 제어 불가&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->내부 사용자의 공격 방어 어려움&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->제로데이 공격에 취약&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="유형">유형&lt;/h2>
&lt;h3 id="패킷-필터링">패킷 필터링&lt;/h3>
&lt;p>수신된 패킷의 &lt;code>TCP/IP 헤더 부분만&lt;/code>을 이용해서 침입 차단 기능을 수행하는 수동적인 침입차단 프로그램&lt;/p>
&lt;blockquote>
&lt;p>일반적인 라우터에 패킷 필터링 기능을 구현한 것을 스크리닝 라우터(또는 패킷 필터링 라우터)라고 부른다.&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->확장 가능&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->높은 효율성&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->응용 프로그램에 독립적&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->패킷에서 헤더정보 외에는 조사 X&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->상대적으로 낮은 보안&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->연결 상태 추적 X&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="natnetwork-address-translation">NAT(Network Address Translation)&lt;/h4>
&lt;p>사설 주소와 범용주소의 매핑 제공하며 동시에 가상 사설 네트워크를 지원하는 기술&lt;/p>
&lt;ul>
&lt;li>적은 수의 공인 IP주소로 많은 시스템이 인터넷에 접속 가능하게 함&lt;/li>
&lt;li>외부 네트워크에서 내부 네트워크 IP주소를 알 수 없으므로 보안성 효과&lt;/li>
&lt;li>구분
&lt;ul>
&lt;li>Static NAT
&lt;ul>
&lt;li>내부 IP 주소와 외부 IP 주소의 &lt;code>1:1 매핑&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Dynamic NAT
&lt;ul>
&lt;li>여러 개의 내부 IP 주소와 여러 개의 외부 IP 주소의 &lt;code>동적 매핑&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PAT(Port Address Translation)
&lt;ul>
&lt;li>변환 테이블에 송/수신 포트번호와 프로토콜을 포함&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="스테이트풀-패킷-검사">스테이트풀 패킷 검사&lt;/h3>
&lt;p>패킷 필터링과 동일한 패킷 정보를 조사하지만 &lt;code>TCP 연결에 관한 정보&lt;/code>를 기록&lt;/p>
&lt;ul>
&lt;li>&lt;code>TCP 시퀀스넘버를 추적&lt;/code>해서 시퀀스넘버를 이용한 &lt;code>세션하이재킹 같은 공격을 방어&lt;/code>&lt;/li>
&lt;li>&lt;code>통신 채널을 추적&lt;/code>하는 상태 테이블을 관리&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->패킷 상태에 대한 보안성 높임&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->전체 계층에 대해 상태 조사, 사용자 설정없이 투명성 제공&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->연결요청의 첫 헤더 공격에 잘못된 상태테이블 구성 가능&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="작동-원리">작동 원리&lt;/h4>
&lt;ul>
&lt;li>데이터 링크 계층에서 &lt;code>SYN&lt;/code> 패킷을 전송받으면 접근제어 정책에 의해 상태 테이블에 남겨 접근 허용여부를 결정&lt;/li>
&lt;li>접근이 금지된 패킷일 경우 로그를 저장하고 전송을 수행하지 않고, 접근이 허용된 패킷은 네트워크 계층으로 전송&lt;/li>
&lt;li>SYN 패킷이 아닐 경우 상태 테이블의 패킷 정보 여부를 검사하고 존재하면 전송, 존재하지 않으면 접근제어 정책에 따라 전송여부를 결정&lt;/li>
&lt;/ul>
&lt;h3 id="프록시">프록시&lt;/h3>
&lt;p>침입차단 시스템 호스트에서 실행되는 전문화된 애플리케이션이나 서버 프로그램으로서 배스천 호스트에 설치되어 운영&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>침입차단 S/W가 설치되어 내ㆍ외부 네트워크 사이에서 &lt;code>게이트웨이 역할&lt;/code>을 수행하며 &lt;code>철저한 보안 방어&lt;/code> 기능이 구축되어 있는 시스템&lt;/p>
&lt;ul>
&lt;li>설계 및 구축
&lt;ul>
&lt;li>가능한 한 단순하게 구성하여 호스트 보안 정책을 쉽게 구성&lt;/li>
&lt;li>배스천 호스트의 손상에 대비한 대비책을 강구&lt;/li>
&lt;li>시스템 로그에 대한 백업 방법을 강구&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>장점
&lt;ul>
&lt;li>스크리닝 라우터 방식보다 안전&lt;/li>
&lt;li>각종 기록 정보 생성 및 관리가 쉬움&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>단점
&lt;ul>
&lt;li>배스천 호스트가 손상되면 내부 네트워크를 보호할 수 없음&lt;/li>
&lt;li>로그인 정보가 유출되면 내부 네트워크를 보호할 수 없음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;h4 id="응용-계층-게이트웨이application-level-proxy">응용 계층 게이트웨이(Application-Level Proxy)&lt;/h4>
&lt;p>응용 서비스마다 각기 다른 응용 게이트웨이를 구현하여 패킷을 &lt;code>응용프로그램 계층&lt;/code>까지 검사&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->응용 서비스 사용에 따른 기록 및 감사 추적이 가능하고 강력한 인증 서비스 제공&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->높은 대역폭 혹은 실시간 응용프로그램에 일반적으로 적합하지 않음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->새로운 네트워크 응용 프로그램과 프로토콜 지원에 제한적&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->응용서비스별 별도의 프락시 서버가 필요&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="회선-레벨-게이트웨이circuit-level-gateway">회선 레벨 게이트웨이(Circuit-Level gateway)&lt;/h4>
&lt;p>외부와 내부 네트워크 사이에 &lt;code>안전한 프록시 데이터 채널&lt;/code>을 설정하기 위해서 매커니즘을 구축&lt;/p>
&lt;ul>
&lt;li>&lt;code>SOCKS&lt;/code> 프로토콜을 사용
&lt;ul>
&lt;li>SOCKS: 클라이언트-서버 환경에서 이용되는 프락시 접속 프로토콜&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>내부 네트워크의 호스트 보호를 목적&lt;/li>
&lt;li>응용 트래픽 조사 X
&lt;ul>
&lt;li>응용 게이트웨이 방화벽보다 처리속도 빠름&lt;/li>
&lt;li>응용 서비스를 사용하는 공격에 취약&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="종류">종류&lt;/h2>
&lt;h3 id="스크리닝-라우터-구조">스크리닝 라우터 구조&lt;/h3>
&lt;p>&lt;code>라우터&lt;/code>를 이용해 인터페이스에 들어오고 나가는 패킷 필터링&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->구조간단, 장비 추가비용 없음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->네트워크 계층에서 동작, 클라이언트-서버 변화 없음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->보호하고자 하는 전체 N/W에 동일한 보호가 가능&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->세부적인 규칙 적용이 어려움&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->인증기능 수행 불가. 내부구조를 숨기기 어려움&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->실패한 접속에 대한 로깅지원 X, 패킷필터링 규칙검증 어려움&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="이중-네트워크-호스트-구조">이중 네트워크 호스트 구조&lt;/h3>
&lt;ul>
&lt;li>&lt;code>2개의 인터페이스&lt;/code>를 가지는 장비로 하나는 외부 N/W, 하나는 내부 N/W와 연결&lt;/li>
&lt;li>N/W의 모든 패킷을 검사하기 때문에 상당히 높은 성능의 시스템이 요구되며 소규모 N/W에 적합&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->스크리닝 라우터보다 안전&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->관리, 설치, 유지보수 용이&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->내부 네트워크를 숨길 수 있음&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->서비스 증가 시 프록시 S/W 가격 상승&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->사용자 정보 입력 필요&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->배스천호스트 손상, 로그인 정보 유출 시 네트워크 보호 불가&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="스크린드-호스트-게이트웨이-구조">스크린드 호스트 게이트웨이 구조&lt;/h3>
&lt;ul>
&lt;li>&lt;code>이중 네트워크 호스트&lt;/code> + &lt;code>스크리닝 라우터&lt;/code>&lt;/li>
&lt;li>내부 네트워크에 놓여 있는 배스천호스트와 외부 네트워크 사이에 스크리닝 라우터로 구성&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->다른 방화벽에 있는 모든 장점 + 융통성&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->네트워크 계층과 응용 계층에서 방어(2단계 방어)&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->느린 서버 속도&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->배스천호스트 침해 시 내부 네트워크를 보호할 수 없음&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->스크리닝 라우터의 라우팅 테이블 변경 시 내부 네트워크 방어 불가&lt;!-- raw HTML omitted -->&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>스크리닝 라우터의 라우팅 테이블이 변경되면 외부 트래픽이 배스천호스트로 입력되지 않고 곧바로 내부 네트워크로 진입되므로 내부자 공격에 취약하다.&lt;/p>
&lt;/blockquote>
&lt;h3 id="스크린드-서브넷-구조">스크린드 서브넷 구조&lt;/h3>
&lt;ul>
&lt;li>&lt;code>스크리닝 라우터&lt;/code> + &lt;code>이중 네트워크 호스트&lt;/code> + &lt;code>스크리닝 라우터&lt;/code>&lt;/li>
&lt;li>인터넷과 내부 네트워크 사이에 &lt;code>DMZ(Demilitarized Zone)&lt;/code>라는 서브넷을 운영&lt;/li>
&lt;li>외부에서 접속할 수 있어야 하며 보호되어야 할 시스템은 주로 DMZ 네트워크에 배치&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>장점&lt;/th>
&lt;th>단점&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;!-- raw HTML omitted -->DMZ와 같은 보안층을 가지고 있어 매우 안전&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->다른 방화벽에 있는 모든 장점을 포함, 융통성 또한 뛰어남&lt;!-- raw HTML omitted -->&lt;/td>
&lt;td>&lt;!-- raw HTML omitted -->낮은 서비스 속도&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->다른 방화벽에 있는 모든 장점을 포함, 융통성 또한 뛰어남&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="iptables">iptables&lt;/h2>
&lt;p>리눅스 커널에 내장된 rule 기반의 패킷 필터링 기능&lt;/p>
&lt;ul>
&lt;li>상태 추적&lt;/li>
&lt;li>NAT 기능&lt;/li>
&lt;li>패킷 레벨에서의 로깅 기능&lt;/li>
&lt;li>확장 모듈을 통한 다양한 기능&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ iptables &lt;span style="color:#f92672">[&lt;/span>table&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#f92672">[&lt;/span>chain&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#f92672">[&lt;/span>rule&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#f92672">[&lt;/span>target&lt;span style="color:#f92672">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>테이블 지정&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">옵션&lt;/th>
&lt;th style="text-align:center">설명&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">-t&lt;/td>
&lt;td style="text-align:center">filter(default값), nat&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>룰을 설정할 체인 지정&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">옵션&lt;/th>
&lt;th style="text-align:center">설명&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">-A&lt;/td>
&lt;td style="text-align:center">append 모드. 해당 체인의 제일 마지막에 룰을 추가&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">-I&lt;/td>
&lt;td style="text-align:center">insert 모드. 해당 체인의 첫 행에 룰을 추가. &lt;!-- raw HTML omitted --> 행 번호 지정 시 특정 행에 룰을 추가&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">-D&lt;/td>
&lt;td style="text-align:center">delete 모드. 행 번호를 지정하여 특정 위치의 룰을 삭제&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">-F&lt;/td>
&lt;td style="text-align:center">flush 모드. 해당 체인의 모든 룰을 삭제&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">-P&lt;/td>
&lt;td style="text-align:center">해당 체인의 default 정책 설정&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>filter 테이블의 체인에는 INPUT, OUTPUT, FORWARD 체인이 있다.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>룰 설정&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">옵션&lt;/th>
&lt;th style="text-align:center">설명&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">-p&lt;/td>
&lt;td style="text-align:center">프로토콜 지정&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">-s&lt;/td>
&lt;td style="text-align:center">출발지 IP 지정&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">-d&lt;/td>
&lt;td style="text-align:center">목적지 IP 지정&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;ndash;sport&lt;/td>
&lt;td style="text-align:center">출발지 Port 지정&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;ndash;dport&lt;/td>
&lt;td style="text-align:center">목적지 Port 지정&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">-i&lt;/td>
&lt;td style="text-align:center">패킷이 들어오는 인터페이스 지정&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">-o&lt;/td>
&lt;td style="text-align:center">패킷이 나가는 인터페이스 지정&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>타겟 지정&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">옵션&lt;/th>
&lt;th style="text-align:center">설명&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">-j&lt;/td>
&lt;td style="text-align:center">룰에 매칭될 때 적용할 정책 또는 타겟 체인을 지정&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>정책에는 ACCEPT(허용), DROP(차단, 응답 없음), REJECT(차단, 응답), LOG(로깅)이 있다.&lt;/p>
&lt;/blockquote></description></item><item><title>Til: VPN(Virtual Private Network)</title><link>http://Jeonghun-Ban.github.io/til/security/network/vpn/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/vpn/</guid><description>
&lt;p>공중 네트워크를 이용하여 사설 네트워크가 요구하는 서비스를 제공&lt;/p>
&lt;blockquote>
&lt;p>전용 회선처럼 사용할 수 있게 해주는 기술&lt;/p>
&lt;/blockquote>
&lt;h2 id="종류">종류&lt;/h2>
&lt;ul>
&lt;li>Intranet VPN
&lt;ul>
&lt;li>기업 내부를 LAN을 통해 연결&lt;/li>
&lt;li>넓게는 지사까지 연결&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Extranet VPN
&lt;ul>
&lt;li>자사의 협력업체에게 Intranet 제공&lt;/li>
&lt;li>Intranet의 확장&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Remote Access VPN
&lt;ul>
&lt;li>원격으로 &lt;code>NAS(Network Access Server)&lt;/code>에 접속&lt;/li>
&lt;li>NAS는 사용자의 접속 인증절차와 터널링 관련 기능 수행&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="구현-기술">구현 기술&lt;/h2>
&lt;h3 id="터널링">터널링&lt;/h3>
&lt;p>송수신자 사이의 전송로에 외부로부터의 &lt;code>침입을 막기 위해&lt;/code> 일종의 파이프를 구성한 것&lt;/p>
&lt;ul>
&lt;li>터널링 되는 데이터를 페이로드라고하며 이것의 내용은 변경되지 않음&lt;/li>
&lt;li>지원하는 프로토콜은 &lt;code>PPTP, L2TP, L2F, MPLS, IPSEC&lt;/code> 등이다.&lt;/li>
&lt;/ul>
&lt;h3 id="암호화">암호화&lt;/h3>
&lt;ul>
&lt;li>정보의 기밀성을 제공하기 위해 &lt;code>대칭키 암호&lt;/code>를 사용&lt;/li>
&lt;li>대칭키는 &lt;code>공개키 암호방식&lt;/code>을 사용하여 키 교환&lt;/li>
&lt;li>메시지 인증: &lt;code>MAC&lt;/code>, &lt;code>해시함수&lt;/code>&lt;/li>
&lt;li>사용자 인증: 보안서버로부터 인증을 받아야 접속 가능&lt;/li>
&lt;/ul>
&lt;h3 id="접근제어">접근제어&lt;/h3>
&lt;ul>
&lt;li>인증된 사용자에게만 접근 허용&lt;/li>
&lt;li>암호화 되지 않은 패킷만 접근제어 가능&lt;/li>
&lt;/ul>
&lt;h2 id="프로토콜">프로토콜&lt;/h2>
&lt;h3 id="2계층">2계층&lt;/h3>
&lt;h4 id="pptp">PPTP&lt;/h4>
&lt;ul>
&lt;li>MS 개발&lt;/li>
&lt;li>&lt;code>일대일 통신&lt;/code>만 가능&lt;/li>
&lt;li>IP를 통해 전송&lt;/li>
&lt;li>&lt;code>TCP&lt;/code> 연결&lt;/li>
&lt;li>Client-Server 구조&lt;/li>
&lt;li>&lt;code>PPP&lt;/code>기초해 연결 확장, 보호&lt;/li>
&lt;/ul>
&lt;h4 id="l2f">L2F&lt;/h4>
&lt;ul>
&lt;li>CISCO 개발&lt;/li>
&lt;li>NAS 개시 VPN형
&lt;ul>
&lt;li>별도의 S/W 필요 없음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>다자간 통신&lt;/code> 지원&lt;/li>
&lt;li>&lt;code>UDP&lt;/code> 연결&lt;/li>
&lt;/ul>
&lt;h4 id="l2tp">L2TP&lt;/h4>
&lt;ul>
&lt;li>&lt;code>PPTP + L2F&lt;/code>&lt;/li>
&lt;li>보안성 우수&lt;/li>
&lt;li>IP 외 여러 프로토콜 지원&lt;/li>
&lt;li>보완을 위해 &lt;code>IPSec&lt;/code>과 결합&lt;/li>
&lt;/ul>
&lt;h3 id="ipsec">IPSec&lt;/h3>
&lt;p>&lt;code>IP 계층(3계층)&lt;/code>의 보안 프로토콜로 네트워크 계층의 보안을 위해 &lt;code>AH 프로토콜&lt;/code>과 &lt;code>ESP 프로토콜&lt;/code>을 함께 사용한다.&lt;/p>
&lt;ul>
&lt;li>강력한 암호화, 인증방식&lt;/li>
&lt;li>IPv4와 IPv6를 모두 지원
&lt;ul>
&lt;li>IPv6에서 AH와 ESP는 확장 헤더의 한 부분&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="동작-모드">동작 모드&lt;/h4>
&lt;ul>
&lt;li>전송 모드(Transfer Mode): 호스트와 호스트간의 메시지(Payload) 무결성을 제공&lt;/li>
&lt;li>터널 모드(Tunnel Mode): IP 패킷 전체를 보호하는 모드&lt;/li>
&lt;/ul>
&lt;h4 id="헤더">헤더&lt;/h4>
&lt;ul>
&lt;li>AH (인증 헤더, Authentication Header)
&lt;ul>
&lt;li>발신지 인증, 데이터 무결성만을 보장&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ESP (캡슐화된 보안 페이로드, Encapsulating Security Payload)
&lt;ul>
&lt;li>발신지 인증, 데이터 무결성, &lt;code>기밀성&lt;/code> 모두를 보장&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="서비스-기능">서비스 기능&lt;/h4>
&lt;ul>
&lt;li>접근제어
&lt;ul>
&lt;li>보안 정책(SP, Security Policy)과 보안 연관을 통해 송수신 IP 패킷에 대한 시스템 접근을 제어&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>비연결 무결성
&lt;ul>
&lt;li>MAC을 통해 각 IP 패킷 별로 무결성을 보장&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>데이터 송신처 인증
&lt;ul>
&lt;li>MAC을 통해 제공&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>재전송 공격 방지
&lt;ul>
&lt;li>보안연관(SA, Security Association, 보안연계)에 순서번호를 유지하여 방지&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>기밀성
&lt;ul>
&lt;li>대칭 암호화를 통해 지원&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>제한된 트래픽 흐름의 기밀성
&lt;ul>
&lt;li>&lt;code>ESP/터널모드&lt;/code> 적용 시 새로운 IP 헤더를 통해 보안/터널 게이트웨이 구간 정보는 노출&lt;/li>
&lt;li>기존 IP 헤더에 있는 &lt;code>최초 출발지/목적지&lt;/code> 정보는 암호화되어 노출되지 않음&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;code>기밀성, 제한된 트래픽 흐름의 기밀성&lt;/code>은 ESP 프로토콜만 지원한다.&lt;/p>
&lt;/blockquote>
&lt;h4 id="보안-연관과-보안-정책">보안 연관과 보안 정책&lt;/h4>
&lt;ul>
&lt;li>SA(보안 연관): 두 기기의 논리적인 연결 상태 동안 적용할 보안 정보
&lt;ul>
&lt;li>&lt;code>단방향 설정&lt;/code>이므로 두 기기 연결에 &lt;code>2개의 SA&lt;/code>가 필요&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>SAD(보안 연관 데이터베이스): 각각의 보안 연관과 관련된 매개 변수 값을 저장하는 데이터베이스&lt;/li>
&lt;li>SP(보안 정책): 수신하는 데이터그램을 어떻게 처리할 지에 대한 규칙&lt;/li>
&lt;li>SPD(보안 정책 데이터베이스): 보안 정책이 저장되어 있는 데이터베이스&lt;/li>
&lt;/ul>
&lt;h4 id="인터넷-키-교환internet-key-exchange-ike">인터넷 키 교환(Internet Key Exchange, IKE)&lt;/h4>
&lt;ul>
&lt;li>내부적 및 외부적 SA을 생성하기 위해 설계된 프로토콜(UDP/500)&lt;/li>
&lt;li>SP들을 생성하고 협상, 관리&lt;/li>
&lt;li>ESP, AH에서 사용하게 될 키를 관리&lt;/li>
&lt;/ul>
&lt;h3 id="mpls">MPLS&lt;/h3>
&lt;ul>
&lt;li>다른 VPN 구조에 비해 서비스 도입과 운영관리가 간단&lt;/li>
&lt;li>저가의 VPN 서비스 제공 가능&lt;/li>
&lt;li>짧고 고정된 길이(4byte)의 레이블을 이용한 스위칭&lt;/li>
&lt;/ul>
&lt;h3 id="ssl">SSL&lt;/h3>
&lt;ul>
&lt;li>전송 계층(5계층)에서 동작&lt;/li>
&lt;li>사용자가 쉽게 사용&lt;/li>
&lt;li>세분화된 접근 통제&lt;/li>
&lt;li>IPSec VPN에 비해 설치 및 관리 편리, 비용 절감&lt;/li>
&lt;/ul></description></item><item><title>Til: Latest Technology</title><link>http://Jeonghun-Ban.github.io/til/security/network/latest-technology/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/security/network/latest-technology/</guid><description>
&lt;h2 id="역추적-시스템">역추적 시스템&lt;/h2>
&lt;p>해킹을 시도하는 해커의 실제위치를 추적하는 기술&lt;/p>
&lt;ul>
&lt;li>TCP 연결 역추적
&lt;ul>
&lt;li>우회 공격을 시도하는 해커의 실제위치를 실시간 추적&lt;/li>
&lt;li>호스트 기반과 N/W 기반 연결 역추적으로 분류&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>IP연결 역추적
&lt;ul>
&lt;li>IP주소가 변경된 패킷의 실제 송신지를 추적하기 위한 기술&lt;/li>
&lt;li>변경된 패킷을 전달한 라우터를 표시함으로써 추적이 가능하게함&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="esmenterprise-security-management">ESM(Enterprise Security Management)&lt;/h2>
&lt;p>네트워크 보안제품의 인터페이스를 표준화하여 &lt;code>중앙 통합 관리&lt;/code>, &lt;code>침입 종합 대응&lt;/code>, &lt;code>통합 모니터링&lt;/code> 수행&lt;/p>
&lt;h3 id="특징">특징&lt;/h3>
&lt;ul>
&lt;li>운영관리 측면
&lt;ul>
&lt;li>통합관리 운영으로 &lt;code>비용 절감&lt;/code>, 인력 축소&lt;/li>
&lt;li>보안 정책 통합 관리를 통한 보안 운영 관리의 &lt;code>일관성 제공&lt;/code>&lt;/li>
&lt;li>보안성 강화보다 운영관리 측면 강화를 통한 &lt;code>보안 관리 효율성&lt;/code> 제공&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>기술적 측면
&lt;ul>
&lt;li>크로스 플랫폼 기반 오픈 아키텍처로 &lt;code>유연성&lt;/code>과 &lt;code>상호 운영성&lt;/code> 확보&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="주요-기능">주요 기능&lt;/h3>
&lt;p>통합 로그 관리, 이벤트 필터링, 실시간 통합 모니터링/경보/상황전파, 로그 분석 및 의사결정 지원, 긴급대응, 리포팅&lt;/p>
&lt;h3 id="구성-요소">구성 요소&lt;/h3>
&lt;ul>
&lt;li>클라이언트(Agent)
&lt;ul>
&lt;li>개별 보안 장비에 탑재.&lt;/li>
&lt;li>ESM 서버의 매니저로부터 통제를 받아 &lt;code>이벤트 처리&lt;/code>와 &lt;code>개별 보안 장비의 통제 룰&lt;/code> 수행&lt;/li>
&lt;li>이벤트 발생 시 이벤트 정보와 로그 정보를 수집하여 ESM 매니저에게 전달&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>서버(ESM 매니저)
&lt;ul>
&lt;li>&lt;code>통합 보안 정책&lt;/code>의 생성/적용 관리&lt;/li>
&lt;li>에이전트에게 &lt;code>명령&lt;/code> 전달&lt;/li>
&lt;li>수집된 정보를 저장/분석하여 보고
-서버(ESM 콘솔)&lt;/li>
&lt;li>개별 에이전트에서 &lt;code>이벤트 로그 모니터링&lt;/code>&lt;/li>
&lt;li>ESM 매니저에서 분석한 위험 및 해킹 분석 결과 확인&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="nacnetwork-access-control">NAC(Network Access Control)&lt;/h2>
&lt;p>내부 네트워크에 접근하기 전에 보안 정책을 준수했는지 여부를 검사해 &lt;code>네트워크 접속을 통제&lt;/code>하는 보안 솔루션&lt;/p>
&lt;blockquote>
&lt;p>내부자에 의한 보안사고 증가와 접속 단말의 다양화, 네트워크 통합 보안 관리가 요구되면서 NAC의 필요성이 증가&lt;/p>
&lt;/blockquote>
&lt;h3 id="주요-기능-1">주요 기능&lt;/h3>
&lt;ul>
&lt;li>접근제어/인증&lt;/li>
&lt;li>PC 및 네트워크 장치 통제(무결성 체크)&lt;/li>
&lt;li>해킹, 웜, 유해 트래픽 탐지 및 차단&lt;/li>
&lt;/ul>
&lt;h3 id="구성">구성&lt;/h3>
&lt;ul>
&lt;li>IP주소에 대응하는 MAC주소를 기반으로 인증 및 접근제어&lt;/li>
&lt;li>접속을 원하는 호스트는 MAC 주소를 해당 시스템 관리자에게 알려줘야 함&lt;/li>
&lt;li>관리자가 해당 MAC 주소를 NAC에 등록하면 N/W 사용 권한 생김&lt;/li>
&lt;li>라우터로 구분된 서브 네트워크마다 에이전트 시스템이 설치되어야 함&lt;/li>
&lt;/ul>
&lt;h2 id="기타-보안-솔루션">기타 보안 솔루션&lt;/h2>
&lt;h3 id="siemsecure-information-event-management">SIEM(Secure Information Event Management)&lt;/h3>
&lt;p>수많은 IT 시스템 및 보안 시스템에서 발생하는 로그를 분석하여 &lt;code>이상 징후를 파악&lt;/code>하고, 그 결과를 관리자에게 보고할 수 있도록 해주는 시스템&lt;/p>
&lt;ul>
&lt;li>빅데이터 기반 로그 분석&lt;/li>
&lt;li>데이터 정규화, 데이터 표준화를 통해 분석&lt;/li>
&lt;/ul>
&lt;h3 id="pmspatch-management-system">PMS(Patch Management System)&lt;/h3>
&lt;p>시스템이 관리하는 PC에 S/W 업데이트 설치와 OS 패치 등을 강제로 설치하도록 하는 기업용 솔루션&lt;/p>
&lt;h2 id="aptadvanced-persistent-threat">APT(Advanced Persistent Threat)&lt;/h2>
&lt;p>특정 대상을 겨냥해 다양한 공격 기법을 이용하여 장기간 지속적으로 공격&lt;/p>
&lt;ul>
&lt;li>제로데이 공격, 기존에 알려지지 않았던 취약점을 이용해 해당 취약점의 패치 전에 공격&lt;/li>
&lt;li>공격단계: &lt;code>침투 - 탐색 - 수집 - 유출&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="기존-공격과의-차이점">기존 공격과의 차이점&lt;/h3>
&lt;ul>
&lt;li>맞춤형 공격&lt;/li>
&lt;li>낮고 느리고 지속적인 공격
&lt;ul>
&lt;li>특정 대상의 내부를 오랜 기간에 걸쳐 관찰/공격&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>높은 목표의식을 가진 공격&lt;/li>
&lt;li>구체적인 공격목표&lt;/li>
&lt;/ul>
&lt;h3 id="주요-침투-기법">주요 침투 기법&lt;/h3>
&lt;ul>
&lt;li>스피어 피싱(Spear Phishing) 공격
&lt;ul>
&lt;li>&lt;code>특정 대상&lt;/code>(개인, 회사)에게 피싱공격&lt;/li>
&lt;li>APT 공격 &lt;code>초기단계&lt;/code>에 자주 수행&lt;/li>
&lt;li>공격 성공률을 높이기 위해 대상에 대한 &lt;code>정보 수집, 분석&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>드라이브-바이-다운로드 공격
&lt;ul>
&lt;li>목표 대상의 구성원이 방문할 가능성이 높은 &lt;code>사이트 침해&lt;/code>&lt;/li>
&lt;li>해당 구성원의 접속 즉시 악성코드가 &lt;code>다운로드&lt;/code> 되도록 하는 공격&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>워터링 홀(Watering Hole) 공격
&lt;ul>
&lt;li>목표 대상의 구성원이 주로 방문하는 사이트의 정보를 사전에 파악&lt;/li>
&lt;li>제로데이 취약점을 이용해 해당 사이트에 &lt;code>악성코드를 심어 둠&lt;/code>&lt;/li>
&lt;li>해당 구성원의 접속 시 악성코드에 &lt;code>감염&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="랜섬웨어ransomware">랜섬웨어(Ransomware)&lt;/h2>
&lt;p>이용자의 데이터를 &lt;code>암호화&lt;/code>하여 복구를 위한 &lt;code>금전을 요구&lt;/code>하는 공격&lt;/p></description></item></channel></rss>