<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Jeonghun-Ban – Window Subsystem for Linux</title><link>http://Jeonghun-Ban.github.io/til/wsl/</link><description>Recent content in Window Subsystem for Linux on Jeonghun-Ban</description><generator>Hugo -- gohugo.io</generator><language>ko-kr</language><lastBuildDate>Mon, 16 Nov 2020 00:00:00 +0000</lastBuildDate><atom:link href="http://Jeonghun-Ban.github.io/til/wsl/index.xml" rel="self" type="application/rss+xml"/><item><title>Til: Installation</title><link>http://Jeonghun-Ban.github.io/til/wsl/installation/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/wsl/installation/</guid><description>
&lt;h3 id="wsl">WSL?&lt;/h3>
&lt;ul>
&lt;li>기존에 Windows의 미흡한 개발환경을 보완하고자 등장&lt;/li>
&lt;li>Windows 상에서 Linux 커널 및 앱을 실행할 수 있게 됨.&lt;/li>
&lt;li>이러한 시스템을 &lt;code>Windows Subsystem for Linux&lt;/code> 혹은 &lt;code>WSL&lt;/code>이라 함.&lt;/li>
&lt;/ul>
&lt;h3 id="windows-10에서-리눅스-서브시스템-사용하기">Windows 10에서 리눅스 서브시스템 사용하기&lt;/h3>
&lt;h4 id="wsl-활성화">WSL 활성화&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>관리자 권한으로 Windows PowerShell 실행&lt;/p>
&lt;/li>
&lt;li>
&lt;p>다음과 같은 명령어를 실행&lt;/p>
&lt;p>&lt;code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="linux-설치">Linux 설치&lt;/h4>
&lt;ul>
&lt;li>&lt;code>Microsoft Store&lt;/code>에서 Linux 검색 후 Ubuntu 설치&lt;/li>
&lt;li>설치된 Ubuntu 앱 실행&lt;/li>
&lt;/ul>
&lt;h4 id="기본-설정하기">기본 설정하기&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>User의 ID 및 PW 설정&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-Bash" data-lang="Bash">Enter new UNIX username: &lt;span style="color:#75715e">#원하는 사용자명&lt;/span>
Enter new UNIX password:
Retype new UNIX password:
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>WSL 배포판의 패키지 업데이트&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-Bash" data-lang="Bash"> $ sudo apt-get update
$ sudo apt full-upgrade
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Til: Customizing</title><link>http://Jeonghun-Ban.github.io/til/wsl/customization/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/wsl/customization/</guid><description>
&lt;p>&lt;code>Windows Subsystem for Linux&lt;/code> 터미널의 문제점&lt;/p>
&lt;ul>
&lt;li>기본적으로 제공하는 색상이나 폰트가 예쁘지 않고 가독성이 떨어짐.&lt;/li>
&lt;li>Windows에서 제공하는 기본 터미널인 CMD를 기반으로 하기 때문임.&lt;/li>
&lt;/ul>
&lt;h2 id="터미널-배경색-변경">터미널 배경색 변경&lt;/h2>
&lt;p>폰트나 배경 색상을 바꾸는 것으로 위 문제점들을 해결할 수 있다. WSL에서 제공하는 터미널은 CMD를 활용한 것이므로, CMD의 색상 설정으로 WSL 색상 변경이 가능하다.&lt;/p>
&lt;h3 id="wsl-테마-설정">WSL 테마 설정&lt;/h3>
&lt;ul>
&lt;li>설치된 &lt;code>Ubuntu&lt;/code>와 같은 WSL Shell을 실행&lt;/li>
&lt;li>창에서 마우스 우클릭, 속성 선택&lt;/li>
&lt;li>WSL 설정 창에서 색 탭 선택&lt;/li>
&lt;li>색상 슬롯의 RGB값을 지정&lt;/li>
&lt;/ul>
&lt;p>우분투 기본 색상에 맞추고 싶으면 아래와 같이 설정해준다.&lt;/p>
&lt;ul>
&lt;li>Ubuntu default Background-color: &lt;code>RGB(48,10,36)&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="cmd-색상-변경">CMD 색상 변경&lt;/h3>
&lt;p>&lt;a href="https://github.com/microsoft/terminal/releases/tag/1904.29002">Microsoft Colortool&lt;/a>을 이용하면 CMD를 비롯한 WSL Shell의 배경색상을 변경할 수 있다.&lt;/p>
&lt;ul>
&lt;li>CMD 실행&lt;/li>
&lt;li>&amp;lsquo;colortool&amp;rsquo;이 담긴 디렉터리로 이동&lt;/li>
&lt;li>아래 코드 입력&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-Bash" data-lang="Bash">colortool.exe -b solarized_dark &lt;span style="color:#75715e"># 컬러 스키마 설정&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="터미널-폰트-변경">터미널 폰트 변경&lt;/h2>
&lt;p>기본 폰트가 코딩을 하는데 있어서 가독성이 떨어지므로, 다른 폰트로 변경하는 것이 좋다.&lt;/p>
&lt;h3 id="wsl-폰트-변경">WSL 폰트 변경&lt;/h3>
&lt;ul>
&lt;li>WSL Shell 실행&lt;/li>
&lt;li>창에서 마우스 우클릭, 속성 선택&lt;/li>
&lt;li>WSL 설정 창에서 글꼴 탭 선택&lt;/li>
&lt;li>설치된 폰트 중에서 선택&lt;/li>
&lt;/ul>
&lt;h3 id="가독성-좋은-폰트">가독성 좋은 폰트&lt;/h3>
&lt;p>기본적으로 윈도우에서 제공하는 &lt;code>Consolas&lt;/code> 폰트도 괜찮긴 하지만 우분투에서 사용하는데에는 가독성이 좋지 않다. 그러므로 아래와 같은 폰트로 변경하는 것이 좋을 것이다.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.dafont.com/bitstream-vera-mono.font">Bitstream Vera Sans Mono&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/powerline/fonts/tree/master/DejaVuSansMono">DejaVu Sans Mono&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/naver/d2codingfont">D2Coding&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>개인적으로 이 중에서 한글 지원이 잘 되는 &lt;code>D2Coding&lt;/code> 폰트가 사용하기 좋았다.&lt;/p>
&lt;h2 id="zshoh-my-zsh">zsh/oh-my-zsh&lt;/h2>
&lt;p>WSL에서 기본적으로 제공하는 리눅스 Shell은 &lt;code>bash&lt;/code>이다. 다양한 테마와 기능을 제공하는 &lt;code>zsh&lt;/code>를 사용하면 보다 편리하게 코딩 작업이 가능하다.&lt;/p>
&lt;p>zsh와 oh-my-zsh를 설정하는 문서를 별도로 분리하게 되었다. 해당 문서는 &lt;a href="../../zsh/installation">여기&lt;/a>를 클릭하면 이동할 수 있다.&lt;/p></description></item><item><title>Til: Directory path</title><link>http://Jeonghun-Ban.github.io/til/wsl/directory-path/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/wsl/directory-path/</guid><description>
&lt;h3 id="윈도우-파일-시스템에서-linux-디렉토리-접속-경로">윈도우 파일 시스템에서 Linux 디렉토리 접속 경로&lt;/h3>
&lt;pre>&lt;code>C:\Users\%USERNAME%\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\LocalState\rootfs\
&lt;/code>&lt;/pre>&lt;h3 id="wsl에서-windows-디렉토리-접속-경로">WSL에서 Windows 디렉토리 접속 경로&lt;/h3>
&lt;ul>
&lt;li>&lt;code>/mnt/드라이브명&lt;/code>를 통해서 자신이 원하는 드라이브로 이동&lt;/li>
&lt;li>&lt;code>/mnt/드라이브명/디렉토리명&lt;/code>으로 해당 드라이브 상의 특정 폴더 접속&lt;/li>
&lt;/ul></description></item><item><title>Til: Upgrade to WSL2</title><link>http://Jeonghun-Ban.github.io/til/wsl/upgrade-to-wsl2/</link><pubDate>Mon, 16 Nov 2020 00:00:00 +0000</pubDate><guid>http://Jeonghun-Ban.github.io/til/wsl/upgrade-to-wsl2/</guid><description>
&lt;h2 id="기존-wsl1의-문제점">기존 WSL1의 문제점&lt;/h2>
&lt;ul>
&lt;li>WSL(Windows Subsystem for Linux)은 기존 Windows의 단점이던 개발환경을 획기적으로 개선&lt;/li>
&lt;li>다만 기존 &lt;code>WSL1&lt;/code>은 시스템 콜 에뮬레이션 방식으로 구동되기 때문에 성능저하가 존재&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>리눅스 시스템 콜을 윈도우 시스템 콜로 번역하여 윈도우NT 커널에서 이를 처리&lt;/p>
&lt;/blockquote>
&lt;h2 id="wsl2-무엇이-달라졌나">WSL2, 무엇이 달라졌나?&lt;/h2>
&lt;ul>
&lt;li>&lt;code>WSL2&lt;/code>는 기존 &lt;code>WSL1&lt;/code>의 문제를 개선하기 위해 리눅스 커널을 그대로 탑재하였다.&lt;/li>
&lt;li>이를 통해서 기존에 문제시 되던 I/O성능과 시스템 호출 호환성이 개선이 이루어졌다.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>실제 리눅스 커널은 경량화된 하이퍼-V 가상화 기술을 통해 구동된다.&lt;/p>
&lt;/blockquote>
&lt;h2 id="wsl2-업그레이드-방법">WSL2 업그레이드 방법&lt;/h2>
&lt;h3 id="사전-준비">사전 준비&lt;/h3>
&lt;ul>
&lt;li>2004 이상 버전의 윈도우 10
&lt;ul>
&lt;li>&lt;code>설정 &amp;gt; 시스템 &amp;gt; 정보 &amp;gt; 버전&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>WSL1&lt;/code>의 설치
&lt;ul>
&lt;li>설치가 되어 있지 않다면 &lt;a href="http://Jeonghun-Ban.github.io/WSL/Installation.md">해당 페이지&lt;/a>를 참고&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://docs.microsoft.com/ko-kr/windows/wsl/wsl2-kernel">WSL2 Lunix 커널 업데이트 패키지 설치&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="1-virtual-machine-platform-활성화">1. Virtual Machine Platform 활성화&lt;/h3>
&lt;p>&lt;code>WSL2&lt;/code>는 &lt;code>Virtual Machine Platform&lt;/code>을 기반으로 동작하기 때문에 이를 활성화시켜 주어야 한다.&lt;/p>
&lt;ul>
&lt;li>PowerShell을 우선 관리자권한으로 실행&lt;/li>
&lt;li>아래 명령어 실행
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">Enable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Hyper-V가 Windows 10 Home에는 설치되지 않으므로 Pro버전으로 업그레이드 해야 할 수도 있다.&lt;/p>
&lt;/blockquote>
&lt;h3 id="2-업그레이드-적용">2. 업그레이드 적용&lt;/h3>
&lt;h4 id="사용중인-리눅스-배포판-목록-조회">사용중인 리눅스 배포판 목록 조회&lt;/h4>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">wsl -l -v
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="기존-배포판-wsl2-전환">기존 배포판 WSL2 전환&lt;/h4>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">wsl --set-version &amp;lt;distro&amp;gt; 2
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>WSL2로 전환할 리눅스 배포판의 이름을 잘 기억해뒀다가 &lt;!-- raw HTML omitted --> 대신 작성해주면 된다.&lt;/p>
&lt;/blockquote>
&lt;h4 id="wsl2를-디폴트로-설정">WSL2를 디폴트로 설정&lt;/h4>
&lt;p>이후 설치하는 리눅스 배포판을 &lt;code>WSL2&lt;/code>로 적용하길 원한다면 다음 명령어를 입력하면 된다.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">wsl --set-default-version 2
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>